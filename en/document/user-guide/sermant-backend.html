<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sermant Backend User Manual | Sermant</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/logo.svg">
    <meta name="description" content="A Proxyless Service Mesh based on Bytecode Enhancement">
    
    <link rel="preload" href="/assets/css/0.styles.b3162cc2.css" as="style"><link rel="preload" href="/assets/js/app.c7cd4f34.js" as="script"><link rel="preload" href="/assets/js/3.5623409f.js" as="script"><link rel="preload" href="/assets/js/1.b15421ba.js" as="script"><link rel="preload" href="/assets/js/62.b66cd57e.js" as="script"><link rel="preload" href="/assets/js/15.e73a6d7c.js" as="script"><link rel="prefetch" href="/assets/js/10.5f7887f3.js"><link rel="prefetch" href="/assets/js/100.3ebb7d89.js"><link rel="prefetch" href="/assets/js/101.544dd561.js"><link rel="prefetch" href="/assets/js/102.cf04dca3.js"><link rel="prefetch" href="/assets/js/103.599042ad.js"><link rel="prefetch" href="/assets/js/104.b8418214.js"><link rel="prefetch" href="/assets/js/105.f4300271.js"><link rel="prefetch" href="/assets/js/106.a0b2633a.js"><link rel="prefetch" href="/assets/js/107.fdc93ff6.js"><link rel="prefetch" href="/assets/js/108.98904937.js"><link rel="prefetch" href="/assets/js/109.2e9f7717.js"><link rel="prefetch" href="/assets/js/11.60305907.js"><link rel="prefetch" href="/assets/js/110.ffd1b3c7.js"><link rel="prefetch" href="/assets/js/111.eec279cf.js"><link rel="prefetch" href="/assets/js/112.317f0dd0.js"><link rel="prefetch" href="/assets/js/113.f2862212.js"><link rel="prefetch" href="/assets/js/12.34d38cf9.js"><link rel="prefetch" href="/assets/js/13.5dac980d.js"><link rel="prefetch" href="/assets/js/14.095e6b30.js"><link rel="prefetch" href="/assets/js/16.fec41699.js"><link rel="prefetch" href="/assets/js/17.23f850a3.js"><link rel="prefetch" href="/assets/js/18.f406bc1c.js"><link rel="prefetch" href="/assets/js/19.a75ad99f.js"><link rel="prefetch" href="/assets/js/20.eff41b59.js"><link rel="prefetch" href="/assets/js/21.9c7411d0.js"><link rel="prefetch" href="/assets/js/22.90975c19.js"><link rel="prefetch" href="/assets/js/23.d0d0501f.js"><link rel="prefetch" href="/assets/js/24.2b5c4eff.js"><link rel="prefetch" href="/assets/js/25.ece41e63.js"><link rel="prefetch" href="/assets/js/26.fe2d3037.js"><link rel="prefetch" href="/assets/js/27.c26f645f.js"><link rel="prefetch" href="/assets/js/28.3a71d01d.js"><link rel="prefetch" href="/assets/js/29.b0ddb50b.js"><link rel="prefetch" href="/assets/js/30.f4434c98.js"><link rel="prefetch" href="/assets/js/31.0fa4a626.js"><link rel="prefetch" href="/assets/js/32.48ebe9ff.js"><link rel="prefetch" href="/assets/js/33.9a6b74cb.js"><link rel="prefetch" href="/assets/js/34.93d1f45a.js"><link rel="prefetch" href="/assets/js/35.fbc375f4.js"><link rel="prefetch" href="/assets/js/36.d0e88faf.js"><link rel="prefetch" href="/assets/js/37.9ee0a8bf.js"><link rel="prefetch" href="/assets/js/38.c799c1e9.js"><link rel="prefetch" href="/assets/js/39.eda52258.js"><link rel="prefetch" href="/assets/js/4.1f7cf31c.js"><link rel="prefetch" href="/assets/js/40.178bf55f.js"><link rel="prefetch" href="/assets/js/41.ad1739d0.js"><link rel="prefetch" href="/assets/js/42.0a62a801.js"><link rel="prefetch" href="/assets/js/43.22c3a611.js"><link rel="prefetch" href="/assets/js/44.5c836176.js"><link rel="prefetch" href="/assets/js/45.feba6534.js"><link rel="prefetch" href="/assets/js/46.26c13127.js"><link rel="prefetch" href="/assets/js/47.76efac4b.js"><link rel="prefetch" href="/assets/js/48.26aab37f.js"><link rel="prefetch" href="/assets/js/49.678788fc.js"><link rel="prefetch" href="/assets/js/5.27b946c4.js"><link rel="prefetch" href="/assets/js/50.1e07ce0b.js"><link rel="prefetch" href="/assets/js/51.fffe8840.js"><link rel="prefetch" href="/assets/js/52.429f223e.js"><link rel="prefetch" href="/assets/js/53.8839afe9.js"><link rel="prefetch" href="/assets/js/54.e7d1f8c1.js"><link rel="prefetch" href="/assets/js/55.7226f597.js"><link rel="prefetch" href="/assets/js/56.d4665261.js"><link rel="prefetch" href="/assets/js/57.c46a63ae.js"><link rel="prefetch" href="/assets/js/58.7bc8a49d.js"><link rel="prefetch" href="/assets/js/59.2b4ac125.js"><link rel="prefetch" href="/assets/js/6.a6913bc1.js"><link rel="prefetch" href="/assets/js/60.9d17235c.js"><link rel="prefetch" href="/assets/js/61.e44f29a7.js"><link rel="prefetch" href="/assets/js/63.26e741ae.js"><link rel="prefetch" href="/assets/js/64.92d558c3.js"><link rel="prefetch" href="/assets/js/65.a769aefb.js"><link rel="prefetch" href="/assets/js/66.89e8984f.js"><link rel="prefetch" href="/assets/js/67.3bf031f0.js"><link rel="prefetch" href="/assets/js/68.726f992c.js"><link rel="prefetch" href="/assets/js/69.4324d738.js"><link rel="prefetch" href="/assets/js/7.d018164a.js"><link rel="prefetch" href="/assets/js/70.b0494415.js"><link rel="prefetch" href="/assets/js/71.b5d28c18.js"><link rel="prefetch" href="/assets/js/72.78211b5b.js"><link rel="prefetch" href="/assets/js/73.1d3e3237.js"><link rel="prefetch" href="/assets/js/74.c17f9b7d.js"><link rel="prefetch" href="/assets/js/75.aa183965.js"><link rel="prefetch" href="/assets/js/76.442bbb80.js"><link rel="prefetch" href="/assets/js/77.f806eb9a.js"><link rel="prefetch" href="/assets/js/78.d402c5eb.js"><link rel="prefetch" href="/assets/js/79.1daa6bed.js"><link rel="prefetch" href="/assets/js/8.10750ce9.js"><link rel="prefetch" href="/assets/js/80.24bbc662.js"><link rel="prefetch" href="/assets/js/81.11acdf1a.js"><link rel="prefetch" href="/assets/js/82.ba92673b.js"><link rel="prefetch" href="/assets/js/83.03ec3fb3.js"><link rel="prefetch" href="/assets/js/84.48532401.js"><link rel="prefetch" href="/assets/js/85.3061e328.js"><link rel="prefetch" href="/assets/js/86.925522ec.js"><link rel="prefetch" href="/assets/js/87.bcccf120.js"><link rel="prefetch" href="/assets/js/88.f605a832.js"><link rel="prefetch" href="/assets/js/89.36637b7b.js"><link rel="prefetch" href="/assets/js/9.4d2ce84a.js"><link rel="prefetch" href="/assets/js/90.7f55c5a5.js"><link rel="prefetch" href="/assets/js/91.0ccdfee7.js"><link rel="prefetch" href="/assets/js/92.634595ce.js"><link rel="prefetch" href="/assets/js/93.d1565e54.js"><link rel="prefetch" href="/assets/js/94.d00b54e3.js"><link rel="prefetch" href="/assets/js/95.535506e7.js"><link rel="prefetch" href="/assets/js/96.e0f229ce.js"><link rel="prefetch" href="/assets/js/97.2a5544e9.js"><link rel="prefetch" href="/assets/js/98.e188aa42.js"><link rel="prefetch" href="/assets/js/99.186ee165.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b3162cc2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><img src="/img/sermant-logo.png" alt="Sermant" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/document/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/sermant-io/Sermant" target="_blank" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/document/user-guide/sermant-backend.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/document/user-guide/sermant-backend.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <div class="nav-item"><!----></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/document/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/sermant-io/Sermant" target="_blank" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/document/user-guide/sermant-backend.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/document/user-guide/sermant-backend.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <div class="nav-item"><!----></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>User Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/document/user-guide/" aria-current="page" class="sidebar-link">Introduction to the use of Sermant</a></li><li><a href="/en/document/user-guide/sermant-agent.html" class="sidebar-link">Sermant Agent User Manual</a></li><li><a href="/en/document/user-guide/sermant-backend.html" aria-current="page" class="active sidebar-link">Sermant Backend User Manual</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/document/user-guide/sermant-backend.html#parameter-configuration" class="sidebar-link">Parameter Configuration</a></li><li class="sidebar-sub-header"><a href="/en/document/user-guide/sermant-backend.html#versions-supported" class="sidebar-link">Versions Supported</a></li><li class="sidebar-sub-header"><a href="/en/document/user-guide/sermant-backend.html#operation-and-result-verification" class="sidebar-link">Operation and result verification</a></li></ul></li><li><a href="/en/document/user-guide/configuration-center.html" class="sidebar-link">Dynamic Configuration Center User Manual</a></li><li><a href="/en/document/user-guide/sermant-xds.html" class="sidebar-link">Proxyless Service Mesh Based on Sermant and Istio</a></li><li><a href="/en/document/user-guide/injector.html" class="sidebar-link">Sermant Injector User Manual</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plugin Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developer Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Community Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sermant-backend-user-manual"><a href="#sermant-backend-user-manual" class="header-anchor">#</a> Sermant Backend User Manual</h1> <p>Sermant Backend includes Sermant data processing back-end module and front-end information display module, aiming to provide runtime observability capabilities for Sermant. Currently, it mainly includes Sermant Agent heartbeat information, reception and display of reported events, webhook push, configuration management and other functions.</p> <p>Sermant Backend works with Sermant Agent. Sermant Agent is mounted as a data sender after the host application is started. It can regularly send heartbeat data of the current Sermant Agent (service name, host name, instance ID, version number, IP, timestamp, mounted plugin information), event data ( Sermant Agent start and stop, core service start and stop, bytecode enhancement, log data, etc.) As a data receiver, Backend can receive and process data such as heartbeats and events sent by Sermant Agent, push emergency events to webhook, and display them visually on the front end, providing the ability to observe the running status of Sermant Agent.</p> <p>Sermant Backend is used in conjunction with the configuration center to manage all configuration items in the configuration center, and can view, add, modify, and delete configuration items.</p> <blockquote><p>Note: Sermant Backend is a <strong>non-essential component</strong> and users can deploy it on demand.</p></blockquote> <h2 id="parameter-configuration"><a href="#parameter-configuration" class="header-anchor">#</a> Parameter Configuration</h2> <h3 id="sermant-agent-parameter-configuration"><a href="#sermant-agent-parameter-configuration" class="header-anchor">#</a> Sermant Agent Parameter Configuration</h3> <p>The instance status management and event management capabilities provided by Sermant Backend rely on the data reported by Sermant Agent. Therefore, when using Sermant Backend, you need to first configure the relevant parameters of Sermant Agent for connecting to Sermant Backend and enabling data reporting in the configuration file <code>agent/config/config.Modify</code> the following configuration in properties:</p> <table><thead><tr><th><strong>Parameter key</strong></th> <th><strong>Description</strong></th> <th><strong>Default value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>agent.service.heartbeat.enable</td> <td>Heartbeat service switch</td> <td>false</td> <td>False</td></tr> <tr><td>agent.service.gateway.enable</td> <td>Gateway service switch</td> <td>false</td> <td>Required when enabling heartbeat service or event reporting</td></tr> <tr><td>gateway.nettyIp</td> <td>Specify the IP address of Netty server</td> <td>127.0.0.1</td> <td>False</td></tr> <tr><td>gateway.nettyPort</td> <td>Specify the port of Netty server</td> <td>6888</td> <td>False</td></tr> <tr><td>event.enable</td> <td>Event reporting switch</td> <td>false</td> <td>False</td></tr> <tr><td>event.offerWarnLog</td> <td>Whether to report warning level logs</td> <td>false</td> <td>False</td></tr> <tr><td>event.offerErrorLog</td> <td>Whether to report error level logs</td> <td>false</td> <td>False</td></tr> <tr><td>event.sendInterval</td> <td>Event sending interval (ms)</td> <td>30000</td> <td>Required when enabling event reporting</td></tr> <tr><td>event.offerInterval</td> <td>Reporting interval for the same event</td> <td>300000</td> <td>Required when enabling event reporting</td></tr></tbody></table> <h3 id="sermant-backend-parameter-configuration"><a href="#sermant-backend-parameter-configuration" class="header-anchor">#</a> Sermant Backend parameter configuration</h3> <p>Sermant Backend parameters can be modified through the <code>sermant-backend/src/main/resources/application.properties</code> configuration file before compilation and packaging. It also supports configuration through the -D parameter or environment variable before starting the jar package.</p> <h4 id="basic-parameters"><a href="#basic-parameters" class="header-anchor">#</a> Basic parameters</h4> <table><thead><tr><th><strong>Parameter Key</strong></th> <th><strong>Description</strong></th> <th><strong>Default Value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>server.port</td> <td>The occupied port of the Sermant Backend</td> <td>8900</td> <td>False</td></tr> <tr><td>netty.port</td> <td>Message receiving port of net</td> <td>127.0.0.1</td> <td>False</td></tr> <tr><td>netty.wait.time</td> <td>Read wait time of Netty, in second</td> <td>60</td> <td>False</td></tr> <tr><td>max.effective.time</td> <td>Time, in milliseconds, to determine whether the application is alive or not</td> <td>60000</td> <td>False</td></tr> <tr><td>max.cache.time</td> <td>Valid time in the cache for the application heartbeat, in millisecond</td> <td>600000</td> <td>False</td></tr></tbody></table> <h4 id="instance-status-parameters"><a href="#instance-status-parameters" class="header-anchor">#</a> Instance status parameters</h4> <table><thead><tr><th><strong>Parameter Key</strong></th> <th><strong>Description</strong></th> <th><strong>Default Value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>max.effective.time</td> <td>Time, in milliseconds, to determine whether the application is alive or not</td> <td>60000</td> <td>False</td></tr> <tr><td>max.cache.time</td> <td>Valid time in the cache for the application heartbeat, in millisecond</td> <td>600000</td> <td>False</td></tr></tbody></table> <h4 id="event-management-parameters"><a href="#event-management-parameters" class="header-anchor">#</a> Event management parameters</h4> <table><thead><tr><th><strong>Parameter Key</strong></th> <th><strong>Description</strong></th> <th><strong>Default Value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>database.type</td> <td>Event storage type, currently supports redis database and memory</td> <td>MEMORY</td> <td>False</td></tr> <tr><td>database.address</td> <td>redis database address</td> <td>127.0.0.1:6379</td> <td>False</td></tr> <tr><td>database.user</td> <td>redis database user name</td> <td>default</td> <td>False</td></tr> <tr><td>database.password</td> <td>redis database password</td> <td>null</td> <td>False</td></tr> <tr><td>database.event.expire</td> <td>Event expiration time, unit: days</td> <td>7</td> <td>False</td></tr> <tr><td>webhook.eventpush.level</td> <td>The webhook event push level supports three levels: EMERGENCY, IMPORTANT, and NORMAL; supports both Feishu and DingTalk webhooks</td> <td>EMERGENCY</td> <td>False</td></tr></tbody></table> <h4 id="configure-management-parameters"><a href="#configure-management-parameters" class="header-anchor">#</a> Configure management parameters</h4> <table><thead><tr><th><strong>Parameter Key</strong></th> <th><strong>Description</strong></th> <th><strong>Default Value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>dynamic.config.enable</td> <td>Configuration management switch</td> <td>true</td> <td>False</td></tr> <tr><td>dynamic.config.namespace</td> <td>Default namespace (used when connecting to Nacos configuration center)</td> <td>default</td> <td>Must be used when connecting to Nacos configuration center</td></tr> <tr><td>dynamic.config.timeout</td> <td>Timeout for requesting the configuration center</td> <td>30000</td> <td>Must be turned on when the configuration management switch is turned on</td></tr> <tr><td>dynamic.config.serverAddress</td> <td>The connection address of the configuration center</td> <td>127.0.0.1:30110</td> <td>Must be turned on when the configuration management switch is turned on</td></tr> <tr><td>dynamic.config.dynamicConfigType</td> <td>Type of configuration center, supports ZOOKEEPER, NACOS, KIE</td> <td>KIE</td> <td>Must be turned on when the switch of configuration management is turned on</td></tr> <tr><td>dynamic.config.connectTimeout</td> <td>Timeout for connecting to the configuration center</td> <td>3000</td> <td>Must be turned on when the configuration management switch is turned on</td></tr> <tr><td>dynamic.config.enableAuth</td> <td>Whether to enable authorization authentication, support Nacos and Zookeeper</td> <td>false</td> <td>Must be turned on when the configuration management switch is turned on</td></tr> <tr><td>dynamic.config.userName</td> <td>Username (plain text) used during authorization authentication</td> <td>null</td> <td>Required when enabling authorization authentication</td></tr> <tr><td>dynamic.config.password</td> <td>Password used for authorization authentication (ciphertext encrypted by AES)</td> <td>null</td> <td>Required when enabling authorization authentication</td></tr> <tr><td>dynamic.config.secretKey</td> <td>The key used when the password is encrypted using AES</td> <td>null</td> <td>Required when enabling authorization authentication</td></tr></tbody></table> <h2 id="versions-supported"><a href="#versions-supported" class="header-anchor">#</a> Versions Supported</h2> <p>Sermant Backend is developed using JDK 1.8, so the running environment requires JDK 1.8 or above.</p> <ul><li><a href="https://gitee.com/openeuler/bishengjdk-8" target="_blank" rel="noopener noreferrer">HuaweiJDK 1.8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://github.com/openjdk/jdk" target="_blank" rel="noopener noreferrer">OpenJDK 1.8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://www.oracle.com/java/technologies/downloads/" target="_blank" rel="noopener noreferrer">OracleJDK 1.8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="operation-and-result-verification"><a href="#operation-and-result-verification" class="header-anchor">#</a> Operation and result verification</h2> <h3 id="_1-preparation"><a href="#_1-preparation" class="header-anchor">#</a> 1 Preparation</h3> <ul><li><a href="https://github.com/sermant-io/Sermant/releases/download/v2.0.0/sermant-2.0.0.tar.gz" target="_blank" rel="noopener noreferrer">Download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Sermant
Release package (current version recommends version 2.0.0)</li> <li><a href="https://github.com/sermant-io/Sermant-examples/releases/download/v1.4.0/sermant-examples-springboot-registry-demo-1.4.0.tar.gz" target="_blank" rel="noopener noreferrer">Download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Demo binary product Archive</li> <li><a href="https://zookeeper.apache.org/releases.html#download" target="_blank" rel="noopener noreferrer">Download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ZooKeeper (dynamic configuration center &amp; registration center), and start</li></ul> <h3 id="_2-modify-sermant-agent-parameter-configuration"><a href="#_2-modify-sermant-agent-parameter-configuration" class="header-anchor">#</a> 2 Modify Sermant Agent parameter configuration</h3> <p>Modify the <code>${path}/sermant-agent/agent/config/config.properties</code> file to the following content:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#Heartbeat service switch</span>
<span class="token assign-left variable">agent.service.heartbeat.enable</span><span class="token operator">=</span>true
<span class="token comment"># Gateway service switch</span>
<span class="token assign-left variable">agent.service.gateway.enable</span><span class="token operator">=</span>true
<span class="token comment">#Event switch</span>
<span class="token assign-left variable">event.enable</span><span class="token operator">=</span>true
<span class="token comment"># Report warn log switch</span>
<span class="token assign-left variable">event.offerWarnLog</span><span class="token operator">=</span>true
<span class="token comment"># Report error log switch</span>
<span class="token assign-left variable">event.offerErrorLog</span><span class="token operator">=</span>true
</code></pre></div><blockquote><p><strong>Note:</strong>  ${path} is the path where sermant is located</p></blockquote> <h3 id="_3-deploy-application"><a href="#_3-deploy-application" class="header-anchor">#</a> 3 Deploy application</h3> <h4 id="_3-1-deploy-sermant-backend"><a href="#_3-1-deploy-sermant-backend" class="header-anchor">#</a> 3.1 Deploy Sermant Backend</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># windwos</span>
<span class="token function">java</span> <span class="token parameter variable">-Dwebhook.eventpush.level</span><span class="token operator">=</span>NORMAL <span class="token parameter variable">-Ddynamic.config.enable</span><span class="token operator">=</span>true <span class="token parameter variable">-Ddynamic.config.serverAddress</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:2181 <span class="token parameter variable">-Ddynamic.config.dynamicConfigType</span><span class="token operator">=</span>ZOOKEEPER <span class="token parameter variable">-jar</span> <span class="token variable">${path}</span><span class="token punctuation">\</span>sermant-agent<span class="token punctuation">\</span>server<span class="token punctuation">\</span>sermant<span class="token punctuation">\</span>sermant-backend-x.x.x.jar

<span class="token comment">#linux mac</span>
<span class="token function">java</span> <span class="token parameter variable">-Dwebhook.eventpush.level</span><span class="token operator">=</span>NORMAL <span class="token parameter variable">-Ddynamic.config.enable</span><span class="token operator">=</span>true <span class="token parameter variable">-Ddynamic.config.serverAddress</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:2181 <span class="token parameter variable">-Ddynamic.config.dynamicConfigType</span><span class="token operator">=</span>ZOOKEEPER <span class="token parameter variable">-jar</span> <span class="token variable">${path}</span>/sermant-agent/server/sermant/sermant-backend-x.x.x.jar
</code></pre></div><blockquote><p><strong>Note:</strong> ${path} is the actual installation path of sermant, and x.x.x represents a certain version number of sermant.</p></blockquote> <h4 id="_3-2-configure-application"><a href="#_3-2-configure-application" class="header-anchor">#</a> 3.2 Configure application</h4> <p>Unzip the Demo binary product compressed package to get service-a.jar.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># windwos</span>
<span class="token function">java</span> <span class="token parameter variable">-Dserver.port</span><span class="token operator">=</span><span class="token number">8989</span> -javaagent:<span class="token variable">${path}</span><span class="token punctuation">\</span>sermant-agent<span class="token punctuation">\</span>agent<span class="token punctuation">\</span>sermant-agent.jar<span class="token operator">=</span>appName<span class="token operator">=</span>default <span class="token parameter variable">-jar</span> service-a.jar

<span class="token comment">#linux mac</span>
<span class="token function">java</span> <span class="token parameter variable">-Dserver.port</span><span class="token operator">=</span><span class="token number">8989</span> -javaagent:<span class="token variable">${path}</span>/sermant-agent/agent/sermant-agent.jar<span class="token operator">=</span>appName<span class="token operator">=</span>default <span class="token parameter variable">-jar</span> service-a.jar
```server.port<span class="token operator">=</span><span class="token number">8989</span> -javaagent:<span class="token variable">${path}</span>/sermant-agent/agent/sermant-agent.jar<span class="token operator">=</span>appName<span class="token operator">=</span>default <span class="token parameter variable">-jar</span> service-a.jar
</code></pre></div><blockquote><p><strong>Note:</strong> ${path} is the actual installation path of sermant</p></blockquote> <h3 id="_4-instance-status-verification"><a href="#_4-instance-status-verification" class="header-anchor">#</a> 4 Instance status verification</h3> <p>Access the address <code>http://127.0.0.1:8900/</code> through the browser to view the front-end display page. If the heartbeat information of the Sermant Agent instance is displayed as shown below, the heartbeat verification is successful.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h3 id="_5-event-management-verification"><a href="#_5-event-management-verification" class="header-anchor">#</a> 5 Event Management Verification</h3> <p>By clicking the Observe button in the event management tab, you can view the event information reported by the Sermant Agent. If the event information reported by the Sermant Agent instance is displayed on the page as shown below, it is verified that the event was reported successfully.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_5-1-verification-event-query"><a href="#_5-1-verification-event-query" class="header-anchor">#</a> 5.1 Verification event query</h4> <p><strong>5.1.1 Report time query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, set the query event time range at the red box in the figure below, and click the query button to query.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.2 Service name query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, set the position of the red box in the figure below to query by service name, enter the service name to be queried (single or multiple service name queries are supported), and click the query button to query</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.3 ip query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, set the position of the red box in the figure below to query by ip, enter the IP address to be queried (single or multiple ip queries are supported), and click the query button to query</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.4 Level Query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, select the event level that needs to be queried in the red box in the figure below. Multiple selections are supported. After selecting, click Filter to query.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.5 Type Query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, select the event type that needs to be queried at the red box in the figure below. Multiple selections are supported. After selecting, click Filter to query.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.6 Detailed information display</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, click on the red box in the image below to view event details</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.7 Events automatically refreshed</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, click the red box auto-refresh button in the picture below to enable automatic event refresh.(After turning it on, the latest events will be automatically obtained regularly. Click the button again to close it, or it will automatically close when viewing the event list.)</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_5-2-verify-webhook-event-notification"><a href="#_5-2-verify-webhook-event-notification" class="header-anchor">#</a> 5.2 Verify webhook event notification</h4> <ul><li>Access the address <code>http://127.0.0.1:8900/</code> through the browser</li> <li>Click on the menu bar <strong>Event Management -&gt; Configuration</strong> to enter the webhook configuration interface, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Turn on webhook, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Click the edit button of webhook and set the webhook address, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Click the test connection button of the webhook to receive the test event notification in the corresponding webhook
<ul><li><p>Feishu test event push is shown in the figure below:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div></li> <li><p>DingTalk test event push is shown in the figure below:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div></li></ul></li></ul> <h3 id="_6-configuration-management-verification"><a href="#_6-configuration-management-verification" class="header-anchor">#</a> 6 Configuration management verification</h3> <ul><li>Access the address <code>http://127.0.0.1:8900/</code> through the browser</li> <li>Click <strong>Configuration Management</strong> on the menu bar to enter the configuration management interface to view the configuration of the configuration center. The configuration management page will display the configuration of the routing plugin by default, as shown in the following figure:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_6-1-verification-configuration-added"><a href="#_6-1-verification-configuration-added" class="header-anchor">#</a> 6.1 Verification configuration added</h4> <ul><li>On the configuration management page, click the <strong>Create</strong> button to jump to the configuration details page to add new configurations, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>After entering the necessary configuration information on the configuration details page, click the Submit button to add the configuration, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>After the configuration is successfully added, the configuration item can be queried on the configuration management page.</li></ul> <h4 id="_6-2-verify-configuration-query"><a href="#_6-2-verify-configuration-query" class="header-anchor">#</a> 6.2 Verify configuration query</h4> <ul><li>On the configuration management page, you can select different plugin types to query different plugin configurations, or enter different query conditions (such as service name, application name, etc.) to query plugin configurations that meet the conditions. The following is the result of querying the configuration item of the flow control plugin and the service name is default (added in the previous step):</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_6-3-verify-configuration-modifications"><a href="#_6-3-verify-configuration-modifications" class="header-anchor">#</a> 6.3 Verify configuration modifications</h4> <ul><li>On the configuration management page, you can click the <strong>View</strong> button to jump to the configuration details page to modify the configuration content. As shown below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>The configuration content can be modified on the configuration details page. After modification, click the submit button to submit the modified content to the configuration center.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Enter the configuration details page again to view the modified configuration content.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_6-4-verify-configuration-deletion"><a href="#_6-4-verify-configuration-deletion" class="header-anchor">#</a> 6.4 Verify configuration deletion</h4> <ul><li>You can delete configurations on the configuration management page. Clicking the <strong>Delete</strong> button will prompt you whether to delete the configuration. As shown below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>After selecting <strong>Yes</strong>, the configuration item will be deleted, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/25/2024, 1:32:17 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/document/user-guide/sermant-agent.html" class="prev">
        Sermant Agent User Manual
      </a></span> <span class="next"><a href="/en/document/user-guide/configuration-center.html">
        Dynamic Configuration Center User Manual
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c7cd4f34.js" defer></script><script src="/assets/js/3.5623409f.js" defer></script><script src="/assets/js/1.b15421ba.js" defer></script><script src="/assets/js/62.b66cd57e.js" defer></script><script src="/assets/js/15.e73a6d7c.js" defer></script>
  </body>
</html>
