<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Sermant Backend User Manual | Sermant</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/logo.svg">
    <meta name="description" content="A Proxyless Service Mesh based on Bytecode Enhancement">
    
    <link rel="preload" href="/assets/css/0.styles.aea4a1e9.css" as="style"><link rel="preload" href="/assets/js/app.b687b1e7.js" as="script"><link rel="preload" href="/assets/js/3.06f127bc.js" as="script"><link rel="preload" href="/assets/js/1.c8bacf5b.js" as="script"><link rel="preload" href="/assets/js/64.549ab63a.js" as="script"><link rel="preload" href="/assets/js/14.199c38f6.js" as="script"><link rel="prefetch" href="/assets/js/10.3c86f8c0.js"><link rel="prefetch" href="/assets/js/100.bc317380.js"><link rel="prefetch" href="/assets/js/101.0e4539ba.js"><link rel="prefetch" href="/assets/js/102.806b7670.js"><link rel="prefetch" href="/assets/js/103.6a5f9697.js"><link rel="prefetch" href="/assets/js/104.438d7d2a.js"><link rel="prefetch" href="/assets/js/105.2d9ea0d0.js"><link rel="prefetch" href="/assets/js/106.1902006d.js"><link rel="prefetch" href="/assets/js/107.3addad12.js"><link rel="prefetch" href="/assets/js/108.92961b8f.js"><link rel="prefetch" href="/assets/js/109.35499d22.js"><link rel="prefetch" href="/assets/js/11.592204d9.js"><link rel="prefetch" href="/assets/js/110.c9d54e80.js"><link rel="prefetch" href="/assets/js/111.611a7295.js"><link rel="prefetch" href="/assets/js/112.96184e46.js"><link rel="prefetch" href="/assets/js/113.d848a339.js"><link rel="prefetch" href="/assets/js/114.490e1858.js"><link rel="prefetch" href="/assets/js/115.f67522b9.js"><link rel="prefetch" href="/assets/js/116.daf5101e.js"><link rel="prefetch" href="/assets/js/117.8200e73f.js"><link rel="prefetch" href="/assets/js/12.fd6a031f.js"><link rel="prefetch" href="/assets/js/13.214eefed.js"><link rel="prefetch" href="/assets/js/15.900a8374.js"><link rel="prefetch" href="/assets/js/16.dc00a508.js"><link rel="prefetch" href="/assets/js/17.7bb9b1f6.js"><link rel="prefetch" href="/assets/js/18.0cb1c621.js"><link rel="prefetch" href="/assets/js/19.376e980d.js"><link rel="prefetch" href="/assets/js/20.341a6ad9.js"><link rel="prefetch" href="/assets/js/21.d802b098.js"><link rel="prefetch" href="/assets/js/22.43cc7ae1.js"><link rel="prefetch" href="/assets/js/23.021ca145.js"><link rel="prefetch" href="/assets/js/24.a3349f17.js"><link rel="prefetch" href="/assets/js/25.698376aa.js"><link rel="prefetch" href="/assets/js/26.a6ac8be9.js"><link rel="prefetch" href="/assets/js/27.09e84572.js"><link rel="prefetch" href="/assets/js/28.b0950095.js"><link rel="prefetch" href="/assets/js/29.e99b36c0.js"><link rel="prefetch" href="/assets/js/30.41dc58ef.js"><link rel="prefetch" href="/assets/js/31.8a608adb.js"><link rel="prefetch" href="/assets/js/32.1e0d9710.js"><link rel="prefetch" href="/assets/js/33.a398e056.js"><link rel="prefetch" href="/assets/js/34.e19240ac.js"><link rel="prefetch" href="/assets/js/35.284e0503.js"><link rel="prefetch" href="/assets/js/36.572ec5d2.js"><link rel="prefetch" href="/assets/js/37.67ca14dd.js"><link rel="prefetch" href="/assets/js/38.00e11239.js"><link rel="prefetch" href="/assets/js/39.9bc42bf2.js"><link rel="prefetch" href="/assets/js/4.7add7152.js"><link rel="prefetch" href="/assets/js/40.bb68876d.js"><link rel="prefetch" href="/assets/js/41.5aad2ff2.js"><link rel="prefetch" href="/assets/js/42.4c8a6e50.js"><link rel="prefetch" href="/assets/js/43.71503fb0.js"><link rel="prefetch" href="/assets/js/44.a0deab68.js"><link rel="prefetch" href="/assets/js/45.5a6500b9.js"><link rel="prefetch" href="/assets/js/46.a7414b43.js"><link rel="prefetch" href="/assets/js/47.8a6f0b3e.js"><link rel="prefetch" href="/assets/js/48.aadcaaa5.js"><link rel="prefetch" href="/assets/js/49.ea40d06f.js"><link rel="prefetch" href="/assets/js/5.4a333fb7.js"><link rel="prefetch" href="/assets/js/50.1802cdf6.js"><link rel="prefetch" href="/assets/js/51.1e3e17ce.js"><link rel="prefetch" href="/assets/js/52.e1f15f21.js"><link rel="prefetch" href="/assets/js/53.1cc82a58.js"><link rel="prefetch" href="/assets/js/54.087629cc.js"><link rel="prefetch" href="/assets/js/55.49b5b95f.js"><link rel="prefetch" href="/assets/js/56.8788daf3.js"><link rel="prefetch" href="/assets/js/57.da44ebe0.js"><link rel="prefetch" href="/assets/js/58.13279f74.js"><link rel="prefetch" href="/assets/js/59.50ea3b1d.js"><link rel="prefetch" href="/assets/js/6.72029eac.js"><link rel="prefetch" href="/assets/js/60.9d7171de.js"><link rel="prefetch" href="/assets/js/61.c2f21438.js"><link rel="prefetch" href="/assets/js/62.f73519fb.js"><link rel="prefetch" href="/assets/js/63.fc03f383.js"><link rel="prefetch" href="/assets/js/65.df4cc878.js"><link rel="prefetch" href="/assets/js/66.5f56e3b0.js"><link rel="prefetch" href="/assets/js/67.09bd6b82.js"><link rel="prefetch" href="/assets/js/68.ab61ad07.js"><link rel="prefetch" href="/assets/js/69.cb31f10a.js"><link rel="prefetch" href="/assets/js/7.698dd478.js"><link rel="prefetch" href="/assets/js/70.fa24862f.js"><link rel="prefetch" href="/assets/js/71.b4b1e637.js"><link rel="prefetch" href="/assets/js/72.5f48b837.js"><link rel="prefetch" href="/assets/js/73.fc6b7ff3.js"><link rel="prefetch" href="/assets/js/74.a93e6a08.js"><link rel="prefetch" href="/assets/js/75.56c9c2bb.js"><link rel="prefetch" href="/assets/js/76.08013959.js"><link rel="prefetch" href="/assets/js/77.c638970a.js"><link rel="prefetch" href="/assets/js/78.766969e2.js"><link rel="prefetch" href="/assets/js/79.b230fe9f.js"><link rel="prefetch" href="/assets/js/8.10750ce9.js"><link rel="prefetch" href="/assets/js/80.53d5bd76.js"><link rel="prefetch" href="/assets/js/81.48fa2a91.js"><link rel="prefetch" href="/assets/js/82.75d2df6a.js"><link rel="prefetch" href="/assets/js/83.0315f74c.js"><link rel="prefetch" href="/assets/js/84.bb56dd4f.js"><link rel="prefetch" href="/assets/js/85.82ead8ef.js"><link rel="prefetch" href="/assets/js/86.532962b5.js"><link rel="prefetch" href="/assets/js/87.2768d3cd.js"><link rel="prefetch" href="/assets/js/88.6a5e162c.js"><link rel="prefetch" href="/assets/js/89.f9a56a5b.js"><link rel="prefetch" href="/assets/js/9.7f57e4b0.js"><link rel="prefetch" href="/assets/js/90.21ae5607.js"><link rel="prefetch" href="/assets/js/91.908a15a8.js"><link rel="prefetch" href="/assets/js/92.72a99823.js"><link rel="prefetch" href="/assets/js/93.61863d0a.js"><link rel="prefetch" href="/assets/js/94.2092419b.js"><link rel="prefetch" href="/assets/js/95.9c02260b.js"><link rel="prefetch" href="/assets/js/96.f8340a8f.js"><link rel="prefetch" href="/assets/js/97.0d52a307.js"><link rel="prefetch" href="/assets/js/98.fb61bc9c.js"><link rel="prefetch" href="/assets/js/99.8e0db346.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aea4a1e9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><img src="/img/sermant-logo.png" alt="Sermant" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/document/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/sermant-io/Sermant" target="_blank" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/document/user-guide/sermant-backend.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/document/user-guide/sermant-backend.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <div class="nav-item"><!----></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/document/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/sermant-io/Sermant" target="_blank" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/document/user-guide/sermant-backend.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/document/user-guide/sermant-backend.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <div class="nav-item"><!----></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>User Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/document/user-guide/" aria-current="page" class="sidebar-link">Introduction to the use of Sermant</a></li><li><a href="/en/document/user-guide/sermant-agent.html" class="sidebar-link">Sermant Agent User Manual</a></li><li><a href="/en/document/user-guide/sermant-backend.html" aria-current="page" class="active sidebar-link">Sermant Backend User Manual</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/document/user-guide/sermant-backend.html#feature-introduction" class="sidebar-link">Feature Introduction</a></li><li class="sidebar-sub-header"><a href="/en/document/user-guide/sermant-backend.html#parameter-configuration" class="sidebar-link">Parameter Configuration</a></li><li class="sidebar-sub-header"><a href="/en/document/user-guide/sermant-backend.html#versions-supported" class="sidebar-link">Versions Supported</a></li><li class="sidebar-sub-header"><a href="/en/document/user-guide/sermant-backend.html#operation-and-result-verification" class="sidebar-link">Operation and result verification</a></li></ul></li><li><a href="/en/document/user-guide/configuration-center.html" class="sidebar-link">Dynamic Configuration Center User Manual</a></li><li><a href="/en/document/user-guide/sermant-xds.html" class="sidebar-link">Proxyless Service Mesh Based on Sermant and Istio</a></li><li><a href="/en/document/user-guide/injector.html" class="sidebar-link">Sermant Injector User Manual</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plugin Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developer Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Community Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="sermant-backend-user-manual"><a href="#sermant-backend-user-manual" class="header-anchor">#</a> Sermant Backend User Manual</h1> <h2 id="feature-introduction"><a href="#feature-introduction" class="header-anchor">#</a> Feature Introduction</h2> <p>Sermant Backend consists of the Sermant data processing backend module and the frontend information display module, aiming to provide Sermant with runtime management capabilities and observability. It mainly includes functions such as displaying Sermant Agent heartbeat information, receiving and displaying reported events, webhook notifications, configuration management, and hot-swappable services.</p> <h3 id="instance-status-display-service"><a href="#instance-status-display-service" class="header-anchor">#</a> Instance Status Display Service</h3> <p>Sermant Backend works in conjunction with Sermant Agent. Sermant Agent, mounted on the host application after startup, acts as a data sender, periodically sending current Sermant Agent's heartbeat data (service name, hostname, instance ID, version number, IP, timestamp, mounted plugin information). The Backend serves as the data receiver, capable of receiving and processing the heartbeat data sent by Sermant Agent and displaying it. For the actual page layout, refer to <a href="#_4-instance-status-verification">Instance Status Validation</a>.</p> <h3 id="event-information-display-service"><a href="#event-information-display-service" class="header-anchor">#</a> Event Information Display Service</h3> <p>Upon startup, Sermant Agent, functioning as a data sender, not only sends the current Sermant Agent's heartbeat data but also sends event data. The Backend, as the data receiver, can process event data, push urgent events to a webhook, visually display them on the frontend, and provide the ability to monitor the running status of Sermant Agent. For the actual page layout, refer to <a href="#_5-event-management-verification">Event Management Validation</a>.</p> <h3 id="configuration-management-service"><a href="#configuration-management-service" class="header-anchor">#</a> Configuration Management Service</h3> <p>Sermant Backend collaborates with the configuration center to manage all configuration items. It allows viewing, adding, modifying, and deleting configuration items on the page. For the actual page layout, refer to <a href="#_6-configuration-management-verification">Configuration Management Validation</a>.</p> <h3 id="hot-swappable-service"><a href="#hot-swappable-service" class="header-anchor">#</a> Hot-swappable Service</h3> <p>When used in conjunction with Sermant Agent, Sermant Backend can also function as a server for hot-swappable operations, listening to hot-swappable instructions from Sermant Backend and performing plugin installation, uninstallation, and upgrade operations. For the actual page layout, refer to <a href="#_7-hot-plug-service-verification">Hot-swappable Service Validation</a>.</p> <blockquote><p>Note: Sermant Backend is a <strong>non-essential component</strong> and users can deploy it on demand.</p></blockquote> <h2 id="parameter-configuration"><a href="#parameter-configuration" class="header-anchor">#</a> Parameter Configuration</h2> <h3 id="sermant-agent-parameter-configuration"><a href="#sermant-agent-parameter-configuration" class="header-anchor">#</a> Sermant Agent Parameter Configuration</h3> <p>The instance status management and event management capabilities provided by Sermant Backend rely on the data reported by Sermant Agent. Therefore, when using Sermant Backend, you need to first configure the relevant parameters of Sermant Agent for connecting to Sermant Backend and enabling data reporting in the configuration file <code>agent/config/config.Modify</code> the following configuration in properties:</p> <table><thead><tr><th><strong>Parameter key</strong></th> <th><strong>Description</strong></th> <th><strong>Default value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>agent.service.heartbeat.enable</td> <td>Heartbeat service switch</td> <td>false</td> <td>Must be enabled when using Sermant Backend's hot-swappable service</td></tr> <tr><td>agent.service.gateway.enable</td> <td>Gateway service switch</td> <td>false</td> <td>Must be enabled when using heartbeat service, event reporting, or Sermant Backend's hot-swappable service</td></tr> <tr><td>agent.service.dynamic.config.enable</td> <td>Dynamic configuration switch</td> <td>false</td> <td>Must be enabled when using Sermant Backend's hot-swappable service</td></tr> <tr><td>agent.service.hot.plugging.service.enable</td> <td>Hot-swappable service switch</td> <td>false</td> <td>Must be enabled when using Sermant Backend's hot-swappable service</td></tr> <tr><td>gateway.nettyIp</td> <td>Specify the IP address of Netty server</td> <td>127.0.0.1</td> <td>False</td></tr> <tr><td>gateway.nettyPort</td> <td>Specify the port of Netty server</td> <td>6888</td> <td>False</td></tr> <tr><td>event.enable</td> <td>Event reporting switch</td> <td>false</td> <td>False</td></tr> <tr><td>event.offerWarnLog</td> <td>Whether to report warning level logs</td> <td>false</td> <td>False</td></tr> <tr><td>event.offerErrorLog</td> <td>Whether to report error level logs</td> <td>false</td> <td>False</td></tr> <tr><td>event.sendInterval</td> <td>Event sending interval (ms)</td> <td>30000</td> <td>Required when enabling event reporting</td></tr> <tr><td>event.offerInterval</td> <td>Reporting interval for the same event</td> <td>300000</td> <td>Required when enabling event reporting</td></tr></tbody></table> <h3 id="sermant-backend-parameter-configuration"><a href="#sermant-backend-parameter-configuration" class="header-anchor">#</a> Sermant Backend parameter configuration</h3> <p>Sermant Backend parameters can be modified through the <code>sermant-backend/src/main/resources/application.properties</code> configuration file before compilation and packaging. It also supports configuration through the -D parameter or environment variable before starting the jar package.</p> <h4 id="basic-parameters"><a href="#basic-parameters" class="header-anchor">#</a> Basic parameters</h4> <table><thead><tr><th><strong>Parameter Key</strong></th> <th><strong>Description</strong></th> <th><strong>Default Value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>server.port</td> <td>The occupied port of the Sermant Backend</td> <td>8900</td> <td>False</td></tr> <tr><td>netty.port</td> <td>Message receiving port of net</td> <td>127.0.0.1</td> <td>False</td></tr> <tr><td>netty.wait.time</td> <td>Read wait time of Netty, in second</td> <td>60</td> <td>False</td></tr> <tr><td>max.effective.time</td> <td>Time, in milliseconds, to determine whether the application is alive or not</td> <td>60000</td> <td>False</td></tr> <tr><td>max.cache.time</td> <td>Valid time in the cache for the application heartbeat, in millisecond</td> <td>600000</td> <td>False</td></tr></tbody></table> <h4 id="instance-status-parameters"><a href="#instance-status-parameters" class="header-anchor">#</a> Instance status parameters</h4> <table><thead><tr><th><strong>Parameter Key</strong></th> <th><strong>Description</strong></th> <th><strong>Default Value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>max.effective.time</td> <td>Time, in milliseconds, to determine whether the application is alive or not</td> <td>60000</td> <td>False</td></tr> <tr><td>max.cache.time</td> <td>Valid time in the cache for the application heartbeat, in millisecond</td> <td>600000</td> <td>False</td></tr></tbody></table> <h4 id="event-management-parameters"><a href="#event-management-parameters" class="header-anchor">#</a> Event management parameters</h4> <table><thead><tr><th><strong>Parameter Key</strong></th> <th><strong>Description</strong></th> <th><strong>Default Value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>database.type</td> <td>Event storage type, currently supports redis database and memory</td> <td>MEMORY</td> <td>False</td></tr> <tr><td>database.address</td> <td>redis database address</td> <td>127.0.0.1:6379</td> <td>False</td></tr> <tr><td>database.user</td> <td>redis database user name</td> <td>default</td> <td>False</td></tr> <tr><td>database.password</td> <td>redis database password</td> <td>null</td> <td>False</td></tr> <tr><td>database.event.expire</td> <td>Event expiration time, unit: days</td> <td>7</td> <td>False</td></tr> <tr><td>webhook.eventpush.level</td> <td>The webhook event push level supports three levels: EMERGENCY, IMPORTANT, and NORMAL; supports both Feishu and DingTalk webhooks</td> <td>EMERGENCY</td> <td>False</td></tr></tbody></table> <h4 id="configure-management-parameters"><a href="#configure-management-parameters" class="header-anchor">#</a> Configure management parameters</h4> <table><thead><tr><th><strong>Parameter Key</strong></th> <th><strong>Description</strong></th> <th><strong>Default Value</strong></th> <th><strong>Required</strong></th></tr></thead> <tbody><tr><td>dynamic.config.enable</td> <td>Configuration management switch</td> <td>true</td> <td>False</td></tr> <tr><td>dynamic.config.namespace</td> <td>Default namespace (used when connecting to Nacos configuration center)</td> <td>default</td> <td>Must be used when connecting to Nacos configuration center</td></tr> <tr><td>dynamic.config.timeout</td> <td>Timeout for requesting the configuration center</td> <td>30000</td> <td>Must be turned on when the configuration management switch is turned on</td></tr> <tr><td>dynamic.config.serverAddress</td> <td>The connection address of the configuration center</td> <td>127.0.0.1:30110</td> <td>Must be turned on when the configuration management switch is turned on</td></tr> <tr><td>dynamic.config.dynamicConfigType</td> <td>Type of configuration center, supports ZOOKEEPER, NACOS, KIE</td> <td>KIE</td> <td>Must be turned on when the switch of configuration management is turned on</td></tr> <tr><td>dynamic.config.connectTimeout</td> <td>Timeout for connecting to the configuration center</td> <td>3000</td> <td>Must be turned on when the configuration management switch is turned on</td></tr> <tr><td>dynamic.config.enableAuth</td> <td>Whether to enable authorization authentication, support Nacos and Zookeeper</td> <td>false</td> <td>Must be turned on when the configuration management switch is turned on</td></tr> <tr><td>dynamic.config.userName</td> <td>Username (plain text) used during authorization authentication</td> <td>null</td> <td>Required when enabling authorization authentication</td></tr> <tr><td>dynamic.config.password</td> <td>Password used for authorization authentication (ciphertext encrypted by AES)</td> <td>null</td> <td>Required when enabling authorization authentication</td></tr> <tr><td>dynamic.config.secretKey</td> <td>The key used when the password is encrypted using AES</td> <td>null</td> <td>Required when enabling authorization authentication</td></tr> <tr><td>dynamic.config.template.path</td> <td>The UI template path for the configuration page, refer to <a href="/en/document/developer-guide/config-manage.html">UI Template for Configuration Management for template development</a>.</td> <td>null</td> <td>否</td></tr></tbody></table> <h2 id="versions-supported"><a href="#versions-supported" class="header-anchor">#</a> Versions Supported</h2> <p>Sermant Backend is developed using JDK 1.8, so the running environment requires JDK 1.8 or above.</p> <ul><li><a href="https://gitee.com/openeuler/bishengjdk-8" target="_blank" rel="noopener noreferrer">HuaweiJDK 1.8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://github.com/openjdk/jdk" target="_blank" rel="noopener noreferrer">OpenJDK 1.8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://www.oracle.com/java/technologies/downloads/" target="_blank" rel="noopener noreferrer">OracleJDK 1.8<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="operation-and-result-verification"><a href="#operation-and-result-verification" class="header-anchor">#</a> Operation and result verification</h2> <h3 id="_1-preparation"><a href="#_1-preparation" class="header-anchor">#</a> 1 Preparation</h3> <ul><li><a href="https://github.com/sermant-io/Sermant/releases/download/v2.0.0/sermant-2.0.0.tar.gz" target="_blank" rel="noopener noreferrer">Download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Sermant
Release package (current version recommends version 2.0.0)</li> <li><a href="https://github.com/sermant-io/Sermant-examples/releases/download/v1.4.0/sermant-examples-springboot-registry-demo-1.4.0.tar.gz" target="_blank" rel="noopener noreferrer">Download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Demo binary product Archive</li> <li><a href="https://zookeeper.apache.org/releases.html#download" target="_blank" rel="noopener noreferrer">Download<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ZooKeeper (dynamic configuration center &amp; registration center), and start</li></ul> <h3 id="_2-modify-sermant-agent-parameter-configuration"><a href="#_2-modify-sermant-agent-parameter-configuration" class="header-anchor">#</a> 2 Modify Sermant Agent parameter configuration</h3> <p>Modify the <code>${path}/sermant-agent/agent/config/config.properties</code> file to the following content:</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#Heartbeat service switch</span>
<span class="token assign-left variable">agent.service.heartbeat.enable</span><span class="token operator">=</span>true
<span class="token comment"># Gateway service switch</span>
<span class="token assign-left variable">agent.service.gateway.enable</span><span class="token operator">=</span>true
<span class="token comment"># Dynamic config service switch</span>
<span class="token assign-left variable">agent.service.dynamic.config.enable</span><span class="token operator">=</span>true
<span class="token comment"># dynamic mount service switch</span>
<span class="token assign-left variable">agent.service.hot.plugging.service.enable</span><span class="token operator">=</span>true
<span class="token comment">#Event switch</span>
<span class="token assign-left variable">event.enable</span><span class="token operator">=</span>true
<span class="token comment"># Report warn log switch</span>
<span class="token assign-left variable">event.offerWarnLog</span><span class="token operator">=</span>true
<span class="token comment"># Report error log switch</span>
<span class="token assign-left variable">event.offerErrorLog</span><span class="token operator">=</span>true
</code></pre></div><blockquote><p><strong>Note:</strong>  ${path} is the path where sermant is located</p></blockquote> <h3 id="_3-deploy-application"><a href="#_3-deploy-application" class="header-anchor">#</a> 3 Deploy application</h3> <h4 id="_3-1-deploy-sermant-backend"><a href="#_3-1-deploy-sermant-backend" class="header-anchor">#</a> 3.1 Deploy Sermant Backend</h4> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># windwos</span>
<span class="token function">java</span> <span class="token parameter variable">-Dwebhook.eventpush.level</span><span class="token operator">=</span>NORMAL <span class="token parameter variable">-Ddynamic.config.enable</span><span class="token operator">=</span>true <span class="token parameter variable">-Ddynamic.config.serverAddress</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:2181 <span class="token parameter variable">-Ddynamic.config.dynamicConfigType</span><span class="token operator">=</span>ZOOKEEPER <span class="token parameter variable">-jar</span> <span class="token variable">${path}</span><span class="token punctuation">\</span>sermant-agent<span class="token punctuation">\</span>server<span class="token punctuation">\</span>sermant<span class="token punctuation">\</span>sermant-backend-x.x.x.jar

<span class="token comment">#linux mac</span>
<span class="token function">java</span> <span class="token parameter variable">-Dwebhook.eventpush.level</span><span class="token operator">=</span>NORMAL <span class="token parameter variable">-Ddynamic.config.enable</span><span class="token operator">=</span>true <span class="token parameter variable">-Ddynamic.config.serverAddress</span><span class="token operator">=</span><span class="token number">127.0</span>.0.1:2181 <span class="token parameter variable">-Ddynamic.config.dynamicConfigType</span><span class="token operator">=</span>ZOOKEEPER <span class="token parameter variable">-jar</span> <span class="token variable">${path}</span>/sermant-agent/server/sermant/sermant-backend-x.x.x.jar
</code></pre></div><blockquote><p><strong>Note:</strong> ${path} is the actual installation path of sermant, and x.x.x represents a certain version number of sermant.</p></blockquote> <h4 id="_3-2-configure-application"><a href="#_3-2-configure-application" class="header-anchor">#</a> 3.2 Configure application</h4> <p>Unzip the Demo binary product compressed package to get service-a.jar and service-b.jar.</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment"># windwos</span>
<span class="token function">java</span> <span class="token parameter variable">-Dserver.port</span><span class="token operator">=</span><span class="token number">8989</span> -javaagent:<span class="token variable">${path}</span><span class="token punctuation">\</span>sermant-agent<span class="token punctuation">\</span>agent<span class="token punctuation">\</span>sermant-agent.jar<span class="token operator">=</span>appName<span class="token operator">=</span>default <span class="token parameter variable">-jar</span> service-a.jar
<span class="token function">java</span> <span class="token parameter variable">-Dserver.port</span><span class="token operator">=</span><span class="token number">8990</span> <span class="token parameter variable">-jar</span> service-b.jar

<span class="token comment">#linux mac</span>
<span class="token function">java</span> <span class="token parameter variable">-Dserver.port</span><span class="token operator">=</span><span class="token number">8989</span> -javaagent:<span class="token variable">${path}</span>/sermant-agent/agent/sermant-agent.jar<span class="token operator">=</span>appName<span class="token operator">=</span>default <span class="token parameter variable">-jar</span> service-a.jar
```server.port<span class="token operator">=</span><span class="token number">8989</span> -javaagent:<span class="token variable">${path}</span>/sermant-agent/agent/sermant-agent.jar<span class="token operator">=</span>appName<span class="token operator">=</span>default <span class="token parameter variable">-jar</span> service-a.jar
<span class="token function">java</span> <span class="token parameter variable">-Dserver.port</span><span class="token operator">=</span><span class="token number">8990</span> <span class="token parameter variable">-jar</span> service-b.jar
</code></pre></div><blockquote><p><strong>Note:</strong> ${path} is the actual installation path of sermant</p></blockquote> <h4 id="_3-3-dynamic-installation-of-sermant"><a href="#_3-3-dynamic-installation-of-sermant" class="header-anchor">#</a> 3.3 Dynamic Installation of Sermant</h4> <p>Dynamically Installation the Sermant Agent to the host application service-b using the agentmain method. For specific operation details, please refer to <a href="/en/document/user-guide/sermant-agent.html#agent-installation">Agent Installation</a>.</p> <h3 id="_4-instance-status-verification"><a href="#_4-instance-status-verification" class="header-anchor">#</a> 4 Instance status verification</h3> <p>Access the address <code>http://127.0.0.1:8900/</code> through the browser to view the front-end display page. If the heartbeat information of the Sermant Agent instance is displayed as shown below, the heartbeat verification is successful.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h3 id="_5-event-management-verification"><a href="#_5-event-management-verification" class="header-anchor">#</a> 5 Event Management Verification</h3> <p>By clicking the Observe button in the event management tab, you can view the event information reported by the Sermant Agent. If the event information reported by the Sermant Agent instance is displayed on the page as shown below, it is verified that the event was reported successfully.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_5-1-verification-event-query"><a href="#_5-1-verification-event-query" class="header-anchor">#</a> 5.1 Verification event query</h4> <p><strong>5.1.1 Report time query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, set the query event time range at the red box in the figure below, and click the query button to query.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.2 Service name query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, set the position of the red box in the figure below to query by service name, enter the service name to be queried (single or multiple service name queries are supported), and click the query button to query</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.3 ip query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, set the position of the red box in the figure below to query by ip, enter the IP address to be queried (single or multiple ip queries are supported), and click the query button to query</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.4 Level Query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, select the event level that needs to be queried in the red box in the figure below. Multiple selections are supported. After selecting, click Filter to query.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.5 Type Query</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, select the event type that needs to be queried at the red box in the figure below. Multiple selections are supported. After selecting, click Filter to query.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.6 Detailed information display</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, click on the red box in the image below to view event details</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <p><strong>5.1.7 Events automatically refreshed</strong></p> <p>On the <strong>Event Management -&gt; Monitoring</strong> page, click the red box auto-refresh button in the picture below to enable automatic event refresh.(After turning it on, the latest events will be automatically obtained regularly. Click the button again to close it, or it will automatically close when viewing the event list.)</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_5-2-verify-webhook-event-notification"><a href="#_5-2-verify-webhook-event-notification" class="header-anchor">#</a> 5.2 Verify webhook event notification</h4> <ul><li>Access the address <code>http://127.0.0.1:8900/</code> through the browser</li> <li>Click on the menu bar <strong>Event Management -&gt; Configuration</strong> to enter the webhook configuration interface, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Turn on webhook, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Click the edit button of webhook and set the webhook address, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Click the test connection button of the webhook to receive the test event notification in the corresponding webhook
<ul><li><p>Feishu test event push is shown in the figure below:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div></li> <li><p>DingTalk test event push is shown in the figure below:</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div></li></ul></li></ul> <h3 id="_6-configuration-management-verification"><a href="#_6-configuration-management-verification" class="header-anchor">#</a> 6 Configuration management verification</h3> <ul><li>Access the address <code>http://127.0.0.1:8900/</code> through the browser</li> <li>Click <strong>Configuration Management</strong> on the menu bar to enter the configuration management interface to view the configuration of the configuration center. The configuration management page will display the configuration of the routing plugin by default, as shown in the following figure:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_6-1-verification-configuration-added"><a href="#_6-1-verification-configuration-added" class="header-anchor">#</a> 6.1 Verification configuration added</h4> <ul><li>On the configuration management page, click the <strong>Create</strong> button to jump to the configuration details page to add new configurations, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>After entering the necessary configuration information on the configuration details page, click the Submit button to add the configuration, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>After the configuration is successfully added, the configuration item can be queried on the configuration management page.</li></ul> <h4 id="_6-2-verify-configuration-query"><a href="#_6-2-verify-configuration-query" class="header-anchor">#</a> 6.2 Verify configuration query</h4> <ul><li>On the configuration management page, you can select different plugin types to query different plugin configurations, or enter different query conditions (such as service name, application name, etc.) to query plugin configurations that meet the conditions. The following is the result of querying the configuration item of the flow control plugin (added in the previous step):</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_6-3-verify-configuration-modifications"><a href="#_6-3-verify-configuration-modifications" class="header-anchor">#</a> 6.3 Verify configuration modifications</h4> <ul><li>On the configuration management page, you can click the <strong>View</strong> button to jump to the configuration details page to modify the configuration content. As shown below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>The configuration content can be modified on the configuration details page. After modification, click the submit button to submit the modified content to the configuration center.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Enter the configuration details page again to view the modified configuration content.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_6-4-verify-configuration-deletion"><a href="#_6-4-verify-configuration-deletion" class="header-anchor">#</a> 6.4 Verify configuration deletion</h4> <ul><li>You can delete configurations on the configuration management page. Clicking the <strong>Delete</strong> button will prompt you whether to delete the configuration. As shown below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>After selecting <strong>Yes</strong>, the configuration item will be deleted, as shown in the figure below:</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h3 id="_7-hot-plug-service-verification"><a href="#_7-hot-plug-service-verification" class="header-anchor">#</a> 7 Hot Plug Service Verification</h3> <p>Access the instance status page at <code>http://127.0.0.1:8900/</code>. From the instance status page, you can perform hot plug services on the dynamically mounted Sermant Agent.</p> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_7-1-plugin-installation"><a href="#_7-1-plugin-installation" class="header-anchor">#</a> 7.1 Plugin Installation</h4> <ul><li>Select the instance to execute the hot plug service, and click the <code>Hot Plugging</code> button.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Choose the <code>Install Plugin</code> service, enter the plugin name, and then click the <code>Confirm</code> button to proceed with the plugin installation.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <blockquote><p>Note: Before dynamically installing a plugin, ensure that the plugin JAR file is located in <code>${path}/sermant-agent-x.x.x/pluginPackage/${pluginName}</code>. <code>${path}</code> is the actual installation path of Sermant, <code>x.x.x</code> represents a specific version number of Sermant, and <code>${pluginName}</code> is the name of the plugin.</p></blockquote> <ul><li>Due to the periodic nature of heartbeat reporting, plugin information does not refresh immediately. You must wait for the latest heartbeat information to be reported before viewing the most up-to-date plugin information.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_7-2-plugin-upgrade"><a href="#_7-2-plugin-upgrade" class="header-anchor">#</a> 7.2 Plugin Upgrade</h4> <ul><li>In the instance status page, select the instance to execute the hot plug service, and click the <code>Hot Plugging</code> button.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Choose the <code>Update Plugin</code> service, enter the plugin name, and click the <code>Confirm</code> button to update the plugin.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <blockquote><p>Note: Before dynamically updating a plugin, ensure that the plugin JAR file has been updated.</p></blockquote> <ul><li>Because event reporting occurs at intervals, event information does not refresh immediately. You need to wait for the latest event information to be reported before you can view the event information related to plugin updates.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <h4 id="_7-3-plugin-uninstallation"><a href="#_7-3-plugin-uninstallation" class="header-anchor">#</a> 7.3 Plugin Uninstallation</h4> <ul><li>In the instance status page, select the instance to execute the hot plug service, and click the <code>Hot Pluggging</code> button.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Choose the <code>Uninstall Plugin</code> service, enter the plugin name, and click the <code>Confirm</code> button to proceed with the uninstallation.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div> <ul><li>Due to the periodic nature of heartbeat reporting, plugin information does not refresh immediately. You must wait for the latest heartbeat information to be reported before viewing the most up-to-date plugin information.</li></ul> <div class="el-image"><div class="el-image__placeholder"></div><!----></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/18/2024, 1:29:22 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/document/user-guide/sermant-agent.html" class="prev">
        Sermant Agent User Manual
      </a></span> <span class="next"><a href="/en/document/user-guide/configuration-center.html">
        Dynamic Configuration Center User Manual
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b687b1e7.js" defer></script><script src="/assets/js/3.06f127bc.js" defer></script><script src="/assets/js/1.c8bacf5b.js" defer></script><script src="/assets/js/64.549ab63a.js" defer></script><script src="/assets/js/14.199c38f6.js" defer></script>
  </body>
</html>
