<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>xDS Service | Sermant</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/img/logo.svg">
    <meta name="description" content="A Proxyless Service Mesh based on Bytecode Enhancement">
    
    <link rel="preload" href="/assets/css/0.styles.aea4a1e9.css" as="style"><link rel="preload" href="/assets/js/app.5c3a2ada.js" as="script"><link rel="preload" href="/assets/js/3.06f127bc.js" as="script"><link rel="preload" href="/assets/js/1.c8bacf5b.js" as="script"><link rel="preload" href="/assets/js/40.bb68876d.js" as="script"><link rel="prefetch" href="/assets/js/10.3c86f8c0.js"><link rel="prefetch" href="/assets/js/100.bc317380.js"><link rel="prefetch" href="/assets/js/101.9eaa8bdf.js"><link rel="prefetch" href="/assets/js/102.21b419e1.js"><link rel="prefetch" href="/assets/js/103.8442a309.js"><link rel="prefetch" href="/assets/js/104.ab4d19d9.js"><link rel="prefetch" href="/assets/js/105.2d9ea0d0.js"><link rel="prefetch" href="/assets/js/106.628c4010.js"><link rel="prefetch" href="/assets/js/107.00c8fef4.js"><link rel="prefetch" href="/assets/js/108.a360032a.js"><link rel="prefetch" href="/assets/js/109.b929d20b.js"><link rel="prefetch" href="/assets/js/11.592204d9.js"><link rel="prefetch" href="/assets/js/110.155bc202.js"><link rel="prefetch" href="/assets/js/111.611a7295.js"><link rel="prefetch" href="/assets/js/112.66fbc4db.js"><link rel="prefetch" href="/assets/js/113.d848a339.js"><link rel="prefetch" href="/assets/js/114.490e1858.js"><link rel="prefetch" href="/assets/js/115.e546b6ae.js"><link rel="prefetch" href="/assets/js/116.92640e89.js"><link rel="prefetch" href="/assets/js/117.8200e73f.js"><link rel="prefetch" href="/assets/js/12.fd6a031f.js"><link rel="prefetch" href="/assets/js/13.5f38272f.js"><link rel="prefetch" href="/assets/js/14.199c38f6.js"><link rel="prefetch" href="/assets/js/15.900a8374.js"><link rel="prefetch" href="/assets/js/16.dc00a508.js"><link rel="prefetch" href="/assets/js/17.7bb9b1f6.js"><link rel="prefetch" href="/assets/js/18.0cb1c621.js"><link rel="prefetch" href="/assets/js/19.f3f80c20.js"><link rel="prefetch" href="/assets/js/20.341a6ad9.js"><link rel="prefetch" href="/assets/js/21.f3cbb9a3.js"><link rel="prefetch" href="/assets/js/22.9fae982b.js"><link rel="prefetch" href="/assets/js/23.80aecc10.js"><link rel="prefetch" href="/assets/js/24.96ad3256.js"><link rel="prefetch" href="/assets/js/25.ece41e63.js"><link rel="prefetch" href="/assets/js/26.fe2d3037.js"><link rel="prefetch" href="/assets/js/27.09e84572.js"><link rel="prefetch" href="/assets/js/28.b0950095.js"><link rel="prefetch" href="/assets/js/29.e99b36c0.js"><link rel="prefetch" href="/assets/js/30.438dae02.js"><link rel="prefetch" href="/assets/js/31.3c3370de.js"><link rel="prefetch" href="/assets/js/32.1e0d9710.js"><link rel="prefetch" href="/assets/js/33.c2b0d053.js"><link rel="prefetch" href="/assets/js/34.e19240ac.js"><link rel="prefetch" href="/assets/js/35.284e0503.js"><link rel="prefetch" href="/assets/js/36.572ec5d2.js"><link rel="prefetch" href="/assets/js/37.67ca14dd.js"><link rel="prefetch" href="/assets/js/38.cc1aa285.js"><link rel="prefetch" href="/assets/js/39.ba21af57.js"><link rel="prefetch" href="/assets/js/4.7add7152.js"><link rel="prefetch" href="/assets/js/41.5aad2ff2.js"><link rel="prefetch" href="/assets/js/42.4c8a6e50.js"><link rel="prefetch" href="/assets/js/43.71503fb0.js"><link rel="prefetch" href="/assets/js/44.edc75f88.js"><link rel="prefetch" href="/assets/js/45.18155682.js"><link rel="prefetch" href="/assets/js/46.0924b4b7.js"><link rel="prefetch" href="/assets/js/47.a56e6420.js"><link rel="prefetch" href="/assets/js/48.c14baed2.js"><link rel="prefetch" href="/assets/js/49.01c94e37.js"><link rel="prefetch" href="/assets/js/5.4a333fb7.js"><link rel="prefetch" href="/assets/js/50.620a948f.js"><link rel="prefetch" href="/assets/js/51.dcd595e3.js"><link rel="prefetch" href="/assets/js/52.2da2539a.js"><link rel="prefetch" href="/assets/js/53.0d9a34be.js"><link rel="prefetch" href="/assets/js/54.3fbc8a94.js"><link rel="prefetch" href="/assets/js/55.8756d3f5.js"><link rel="prefetch" href="/assets/js/56.72d98c9b.js"><link rel="prefetch" href="/assets/js/57.da44ebe0.js"><link rel="prefetch" href="/assets/js/58.13279f74.js"><link rel="prefetch" href="/assets/js/59.50ea3b1d.js"><link rel="prefetch" href="/assets/js/6.72029eac.js"><link rel="prefetch" href="/assets/js/60.1c849715.js"><link rel="prefetch" href="/assets/js/61.7cb6ab5f.js"><link rel="prefetch" href="/assets/js/62.fffe3261.js"><link rel="prefetch" href="/assets/js/63.17565528.js"><link rel="prefetch" href="/assets/js/64.549ab63a.js"><link rel="prefetch" href="/assets/js/65.872254de.js"><link rel="prefetch" href="/assets/js/66.b950e256.js"><link rel="prefetch" href="/assets/js/67.1d117980.js"><link rel="prefetch" href="/assets/js/68.ab61ad07.js"><link rel="prefetch" href="/assets/js/69.cb31f10a.js"><link rel="prefetch" href="/assets/js/7.698dd478.js"><link rel="prefetch" href="/assets/js/70.fa24862f.js"><link rel="prefetch" href="/assets/js/71.c54f213a.js"><link rel="prefetch" href="/assets/js/72.9599f4a0.js"><link rel="prefetch" href="/assets/js/73.e0471b8c.js"><link rel="prefetch" href="/assets/js/74.c514e0f0.js"><link rel="prefetch" href="/assets/js/75.38eba665.js"><link rel="prefetch" href="/assets/js/76.9a698c78.js"><link rel="prefetch" href="/assets/js/77.c638970a.js"><link rel="prefetch" href="/assets/js/78.766969e2.js"><link rel="prefetch" href="/assets/js/79.b230fe9f.js"><link rel="prefetch" href="/assets/js/8.10750ce9.js"><link rel="prefetch" href="/assets/js/80.bf63f769.js"><link rel="prefetch" href="/assets/js/81.d1fccca7.js"><link rel="prefetch" href="/assets/js/82.25316f1c.js"><link rel="prefetch" href="/assets/js/83.34799413.js"><link rel="prefetch" href="/assets/js/84.9b63b88a.js"><link rel="prefetch" href="/assets/js/85.fb56f22c.js"><link rel="prefetch" href="/assets/js/86.76c9ee38.js"><link rel="prefetch" href="/assets/js/87.1b015939.js"><link rel="prefetch" href="/assets/js/88.91bc0db4.js"><link rel="prefetch" href="/assets/js/89.ef4b9c6d.js"><link rel="prefetch" href="/assets/js/9.7f57e4b0.js"><link rel="prefetch" href="/assets/js/90.f7fd1688.js"><link rel="prefetch" href="/assets/js/91.4b55a138.js"><link rel="prefetch" href="/assets/js/92.571bab7d.js"><link rel="prefetch" href="/assets/js/93.86854ac1.js"><link rel="prefetch" href="/assets/js/94.2092419b.js"><link rel="prefetch" href="/assets/js/95.a45c6b10.js"><link rel="prefetch" href="/assets/js/96.9ff15576.js"><link rel="prefetch" href="/assets/js/97.433fa015.js"><link rel="prefetch" href="/assets/js/98.cc6d3aae.js"><link rel="prefetch" href="/assets/js/99.3103e64b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aea4a1e9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><img src="/img/sermant-logo.png" alt="Sermant" class="logo"></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/document/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/sermant-io/Sermant" target="_blank" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/document/developer-guide/sermant-xds-service.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/document/developer-guide/sermant-xds-service.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <div class="nav-item"><!----></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/document/" class="nav-link">
  Document
</a></div><div class="nav-item"><a href="/en/blog/" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/sermant-io/Sermant" target="_blank" class="nav-link external">
  Github
  <!----></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/zh/document/developer-guide/sermant-xds-service.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en/document/developer-guide/sermant-xds-service.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <div class="nav-item"><!----></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Start</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>User Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plugin Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Developer Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en/document/developer-guide/" aria-current="page" class="sidebar-link">Create Your First Plugin</a></li><li><a href="/en/document/developer-guide/bytecode-enhancement.html" class="sidebar-link">Bytecode Enhancement</a></li><li><a href="/en/document/developer-guide/package-structure.html" class="sidebar-link">Plugin Structure</a></li><li><a href="/en/document/developer-guide/plugin-configuration.html" class="sidebar-link">Plugin Configuration</a></li><li><a href="/en/document/developer-guide/dynamic-config-func.html" class="sidebar-link">Dynamic Configuration Function</a></li><li><a href="/en/document/developer-guide/sermant-xds-service.html" aria-current="page" class="active sidebar-link">xDS Service</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/document/developer-guide/sermant-xds-service.html#service-discovery-based-on-xds-protocol" class="sidebar-link">Service Discovery Based on xDS Protocol</a></li><li class="sidebar-sub-header"><a href="/en/document/developer-guide/sermant-xds-service.html#route-configuration-service-based-on-xds-protocol" class="sidebar-link">Route Configuration Service Based on xDS Protocol</a></li><li class="sidebar-sub-header"><a href="/en/document/developer-guide/sermant-xds-service.html#load-balancing-configuration-service-based-on-xds-protocol" class="sidebar-link">Load Balancing Configuration Service Based on xDS Protocol</a></li><li class="sidebar-sub-header"><a href="/en/document/developer-guide/sermant-xds-service.html#xds-service-configuration" class="sidebar-link">xDS Service Configuration</a></li></ul></li><li><a href="/en/document/developer-guide/heartbeat-func.html" class="sidebar-link">Heartbeat Function</a></li><li><a href="/en/document/developer-guide/trace-tracking-func.html" class="sidebar-link">Link Function</a></li><li><a href="/en/document/developer-guide/log-func.html" class="sidebar-link">Logging Function</a></li><li><a href="/en/document/developer-guide/third-party-copyright.html" class="sidebar-link">Third Party Copyright Statement</a></li><li><a href="/en/document/developer-guide/version-manage.html" class="sidebar-link">Version Management</a></li><li><a href="/en/document/developer-guide/config-manage.html" class="sidebar-link">UI Template for Configuration Management</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Community Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FAQ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="xds-service"><a href="#xds-service" class="header-anchor">#</a> xDS Service</h1> <p>Istio is deployed with a control plane and a data plane. Traditionally, the data plane uses sidecar containers with network proxies (such as Envoy), which increases network latency for microservice calls. In Kubernetes environments, Sermant uses the xDS protocol to communicate directly with Istiod, enabling service discovery. Using a <a href="/en/document/user-guide/sermant-xds.html">Proxyless Service Mesh based on Istio+Sermant</a> can significantly reduce microservice call latency and simplify system deployment. This article introduces how to use Sermant's xDS service in plugin development.</p> <h2 id="service-discovery-based-on-xds-protocol"><a href="#service-discovery-based-on-xds-protocol" class="header-anchor">#</a> Service Discovery Based on xDS Protocol</h2> <h3 id="feature-introduction"><a href="#feature-introduction" class="header-anchor">#</a> Feature Introduction</h3> <p><strong>Service discovery based on xDS protocol</strong> allows Sermant to connect to Istio's control plane to obtain Kubernetes service information and the corresponding specific service instance information.</p> <blockquote><p>Note: Using Sermant's xDS service discovery capability requires the service to be deployed in a Kubernetes container environment and istio is running.</p></blockquote> <h3 id="development-example"><a href="#development-example" class="header-anchor">#</a> Development Example</h3> <p>This development example is based on the project created in the <a href="/en/document/developer-guide/" class="router-link-active">Creating Your First Plugin</a> document and demonstrates how the plugin uses the xDS service discovery capability provided by the Sermant framework to obtain service instances:</p> <ol><li><p>Add the <code>xdsServiceDiscovery</code> variable in the <code>com.huaweicloud.sermant.template.TemplateDeclarer</code> class under <code>template/template-plugin</code> in the project to get the xDS service discovery service provided by the Sermant framework for obtaining service instances:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">XdsServiceDiscovery</span> xdsServiceDiscovery <span class="token operator">=</span> <span class="token class-name">ServiceManager</span><span class="token punctuation">.</span><span class="token function">getService</span><span class="token punctuation">(</span><span class="token class-name">XdsCoreService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getXdsServiceDiscovery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>After obtaining the service discovery instance, you can call the APIs provided by <code>XdsServiceDiscovery</code> to perform corresponding actions. This example demonstrates how to directly obtain service instance information for a service named <code>service-test</code>:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">ExecuteContext</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">ExecuteContext</span> context<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
  <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">&gt;</span></span> serviceInstance <span class="token operator">=</span> xdsServiceDiscovery<span class="token punctuation">.</span><span class="token function">getServiceInstance</span><span class="token punctuation">(</span><span class="token string">&quot;service-test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> serviceInstance<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">ServiceInstance</span> instance <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ServiceInstance: [&quot;</span> <span class="token operator">+</span> instance<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; : &quot;</span>
              <span class="token operator">+</span> instance<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Note: <code>service-test</code> must be the name of the Kubernetes Service. The obtained service instance information 	corresponds to the Pod instance data of that service, an example Kubernetes Service looks like this:</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>apiVersion: v1
kind: Service
metadata:
  name: service-test
spec:
  type: ClusterIP
  ports:
  - name: http
  	port: 8080
    targetPort: 8080
    protocol: TCP
  selector:
    app: service-test
</code></pre></div><p>After completing the development, refer to the <a href="/en/document/developer-guide/#packaged-build">Packaging and Building</a> process in the Creating Your First Plugin 	document. Execute <strong>mvn package</strong> in the root directory of the project to generate the build artifact.</p></li> <li><p>Enable the xDS service and set it to be enabled in <code>agent/config/config.properties</code> with the following configuration:</p> <div class="language- extra-class"><pre class="language-text"><code># xDS service switch
agent.service.xds.service.enable=true
</code></pre></div></li> <li><p>After completing the execution, package the Sermant image and the host microservice image. Start the <code>service-test</code>service in the k8s environment and create the corresponding service instances (implemented by the user). Finally, start the host application in Kubernetes and mount Sermant. Refer to the <a href="/en/document/user-guide/injector.html#startup-and-result-validation">Sermant Injector User Guide</a> for guidance on packaging Sermant and the host image in the Kubernetes environment, as well as mounting Sermant for startup.</p></li> <li><p>After the host microservice pod with Sermant mounted starts successfully, you can execute the following command to obtain the host microservice logs and view the service instances obtained through the xDS service discovery capability:</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ kubectl logs <span class="token parameter variable">-f</span> <span class="token variable">${POD_NAME}</span>
ServiceInstance: <span class="token punctuation">[</span>xxx.xxx.xxx.xxx <span class="token builtin class-name">:</span> xxxx<span class="token punctuation">]</span>
</code></pre></div><blockquote><p>Note: <code>${POD_NAME}</code> must be the name of the pod running the host microservice, which can be viewed using the <code>kubectl get pod</code> command.</p></blockquote></li></ol> <h3 id="xds-service-discovery-api"><a href="#xds-service-discovery-api" class="header-anchor">#</a> xDS Service Discovery API</h3> <p><strong>Obtain xDS Service Discovery Service:</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">XdsServiceDiscovery</span> xdsServiceDiscovery <span class="token operator">=</span> <span class="token class-name">ServiceManager</span><span class="token punctuation">.</span><span class="token function">getService</span><span class="token punctuation">(</span><span class="token class-name">XdsCoreService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getXdsServiceDiscovery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>The <strong>xDS Service Discovery</strong> service has three interface methods: used respectively for directly obtaining service instances,   obtaining service instances through subscription and obtaining service instances through cluster.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">&gt;</span></span> <span class="token function">getServiceInstance</span><span class="token punctuation">(</span><span class="token class-name">String</span> serviceName<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">subscribeServiceInstance</span><span class="token punctuation">(</span><span class="token class-name">String</span> serviceName<span class="token punctuation">,</span> <span class="token class-name">XdsServiceDiscoveryListener</span> listener<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XdsClusterLoadAssigment</span><span class="token punctuation">&gt;</span></span> <span class="token function">getClusterServiceInstance</span><span class="token punctuation">(</span><span class="token class-name">String</span> clusterName<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="directly-obtain-service-instance"><a href="#directly-obtain-service-instance" class="header-anchor">#</a> Directly Obtain Service Instance</h4> <ul><li><p>Obtain the service instance information of the Kubernetes service, returning a <code>java.util.Set</code> containing all instances of the service.</p> <div class="language-java extra-class"><pre class="language-java"><code>xdsServiceDiscovery<span class="token punctuation">.</span><span class="token function">getServiceInstance</span><span class="token punctuation">(</span><span class="token string">&quot;service-test&quot;</span><span class="token punctuation">)</span>
</code></pre></div></li></ul> <h4 id="subscribe-to-obtain-service-instances"><a href="#subscribe-to-obtain-service-instances" class="header-anchor">#</a> Subscribe to Obtain Service Instances</h4> <ul><li><p>Subscribe to the service instance information of the Kubernetes service and register a service discovery listener. The listener's <code>process</code> function can execute custom operations when service instances change.</p> <div class="language-java extra-class"><pre class="language-java"><code>xdsServiceDiscovery<span class="token punctuation">.</span><span class="token function">subscribeServiceInstance</span><span class="token punctuation">(</span><span class="token string">&quot;service-test&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">XdsServiceDiscoveryListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">&gt;</span></span> instances<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// do something</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><a href="https://github.com/sermant-io/Sermant/blob/develop/sermant-agentcore/sermant-agentcore-core/src/main/java/io/sermant/core/service/xds/listener/XdsServiceDiscoveryListener.java" target="_blank" rel="noopener noreferrer">XdsServiceDiscoveryListener<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，contains the following interface methods:</p> <table><thead><tr><th style="text-align:left;">Method</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">void process(Set<ServiceInstance> instances)</ServiceInstance></td> <td style="text-align:left;">Callback interface for processing the latest service instance information</td></tr></tbody></table></li> <li><p><a href="https://github.com/sermant-io/Sermant/blob/develop/sermant-agentcore/sermant-agentcore-core/src/main/java/io/sermant/core/service/xds/entity/ServiceInstance.java" target="_blank" rel="noopener noreferrer">ServiceInstance<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, with the following methods:</p> <table><thead><tr><th style="text-align:left;">Method Name</th> <th style="text-align:left;">Return Type</th> <th style="text-align:left;">Description</th></tr></thead> <tbody><tr><td style="text-align:left;">getClusterName()</td> <td style="text-align:left;">String</td> <td style="text-align:left;">Get the Istio cluster name the instance belongs to</td></tr> <tr><td style="text-align:left;">getServiceName()</td> <td style="text-align:left;">String</td> <td style="text-align:left;">Get the Kubernetes service name the instance belongs to</td></tr> <tr><td style="text-align:left;">getHost()</td> <td style="text-align:left;">String</td> <td style="text-align:left;">Get the Pod IP of the instance</td></tr> <tr><td style="text-align:left;">getPort()</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Get the port of the instance</td></tr> <tr><td style="text-align:left;">getMetaData()</td> <td style="text-align:left;">Map&lt;String, String&gt;</td> <td style="text-align:left;">Get the metadata of the instance</td></tr> <tr><td style="text-align:left;">isHealthy()</td> <td style="text-align:left;">boolean</td> <td style="text-align:left;">Check if the service is healthy</td></tr></tbody></table></li></ul> <h4 id="get-service-instances-through-cluster"><a href="#get-service-instances-through-cluster" class="header-anchor">#</a> Get Service Instances through Cluster</h4> <ul><li><p>Retrieve the service instance information of a Service Cluster. The return type is <code>Optional&lt;XdsClusterLoadAssignment&gt;</code>, which contains all service instances of the Cluster:</p> <div class="language- extra-class"><pre class="language-text"><code>
xdsServiceDiscovery.getClusterServiceInstance(&quot;outbound|8080||service-test.default.svc.cluster.local&quot;);
</code></pre></div></li> <li><p>Cluster service instance <a href="https://github.com/sermant-io/Sermant/blob/develop/sermant-agentcore/sermant-agentcore-core/src/main/java/io/sermant/core/service/xds/entity/XdsClusterLoadAssignment.java" target="_blank" rel="noopener noreferrer">XdsClusterLoadAssignment<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> has the following fields:</p> <table><thead><tr><th>Field Name</th> <th>Field Type</th> <th>Description</th></tr></thead> <tbody><tr><td>serviceName</td> <td>String</td> <td>The name of the service to which the Cluster service instance belongs</td></tr> <tr><td>clusterName</td> <td>String</td> <td>The name of the Cluster</td></tr> <tr><td>localityInstances</td> <td>Map&lt;XdsLocality, Set<ServiceInstance>&gt;</ServiceInstance></td> <td>The service instances of the Cluster, consisting of service instances from different localities</td></tr></tbody></table></li> <li><p>Locality information <a href="https://github.com/sermant-io/Sermant/blob/develop/sermant-agentcore/sermant-agentcore-core/src/main/java/io/sermant/core/service/xds/entity/XdsLocality.java" target="_blank" rel="noopener noreferrer">XdsLocality<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> has the following fields:</p> <table><thead><tr><th>Field Name</th> <th>Field Type</th> <th>Description</th></tr></thead> <tbody><tr><td>region</td> <td>String</td> <td>Region information</td></tr> <tr><td>zone</td> <td>String</td> <td>Zone information</td></tr> <tr><td>subZone</td> <td>String</td> <td>Sub-zone information</td></tr> <tr><td>loadBalanceWeight</td> <td>int</td> <td>Load balancing weight</td></tr> <tr><td>localityPriority</td> <td>int</td> <td>Locality priority</td></tr></tbody></table></li></ul> <h2 id="route-configuration-service-based-on-xds-protocol"><a href="#route-configuration-service-based-on-xds-protocol" class="header-anchor">#</a> Route Configuration Service Based on xDS Protocol</h2> <h3 id="feature-introduction-2"><a href="#feature-introduction-2" class="header-anchor">#</a> Feature Introduction</h3> <p>The <strong>Route Configuration Service Based on xDS Protocol</strong> allows Sermant to connect with Istio's control plane to retrieve the routing configuration information of Kubernetes Services.</p> <blockquote><p>Note: To use Sermant's xDS routing configuration service, the service must be deployed in a Kubernetes container environment and running Istio.</p></blockquote> <h3 id="development-example-2"><a href="#development-example-2" class="header-anchor">#</a> Development Example</h3> <p>This development example is based on the project created in the <a href="/en/document/developer-guide/" class="router-link-active">Create Your First Plugin</a> document, demonstrating how a plugin can retrieve routing configuration information for services using the xDS routing configuration service provided by the Sermant framework:</p> <ol><li><p>In the <code>io.sermant.template.TemplateDeclarer</code> class under <code>template/template-plugin</code> in the project, add the variable <code>xdsRouteService</code> to obtain the xDS route configuration service provided by the Sermant framework, which is used to get the routing configuration information of the services:</p> <div class="language- extra-class"><pre class="language-text"><code>XdsRouteService xdsRouteService = ServiceManager.getService(XdsCoreService.class).getXdsRouteService();
</code></pre></div></li> <li><p>After obtaining the route configuration service instance, you can call the API provided by <code>xdsRouteService</code> to get the routing configuration information of a specified service:</p> <div class="language- extra-class"><pre class="language-text"><code>List&lt;XdsRoute&gt; serviceRoute = xdsRouteService.getServiceRoute(&quot;spring-test&quot;);
System.out.println(&quot;The size of routing config: &quot; + serviceRoute.size());
</code></pre></div><blockquote><p>Note: <code>service-test</code> must be the name of a Kubernetes Service. The retrieved routing configuration is delivered through Istio's DestinationRule and VirtualService. For the specific routing configuration fields and templates supported by Sermant, please refer to the section <a href="/en/document/user-guide/sermant-xds.html#routing-based-on-xds-service">Routing based on xDS Service</a>.</p></blockquote> <p>After development, you can follow the <a href="/en/document/developer-guide/#packaged-build">Packaging and Building</a> steps from the first plugin creation to generate the build artifact by executing <strong>mvn package</strong> in the project root directory.</p></li> <li><p>Enable the xDS service and configure <code>agent/config/config.properties</code> to enable the xDS service. The configuration example is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code># xDS service switch
agent.service.xds.service.enable=true
</code></pre></div></li> <li><p>After completion, package the Sermant image and the host microservice image. Start the host microservice  in Kubernetes and mount Sermant. For guidance on packaging Sermant and host images and mounting Sermant to start host microservices in Kubernetes, please refer to the <a href="/en/document/user-guide/injector.html#startup-and-result-validation">Sermant Injector User Guide</a>. Use the DestinationRuleand VirtualService rules according to the <a href="/en/document/user-guide/sermant-xds.html#istio-routing-configuration-template">Istio Routing Configuration Template</a> provided by Sermant.</p></li> <li><p>After the host microservice is successfully started with Sermant mounted, you can execute the following command to fetch the logs of the host microservice and check the number of routing configurations retrieved by the xDS route configuration service:</p> <div class="language- extra-class"><pre class="language-text"><code>$ kubectl logs -f ${POD_NAME}
The size of routing config: 1
</code></pre></div><blockquote><p>Note: <code>${POD_NAME}</code> must be the name of the pod where the host microservice is running. You can check it using the <code>kubectl get pod</code> command.</p></blockquote></li></ol> <h3 id="xds-route-configuration-service-api"><a href="#xds-route-configuration-service-api" class="header-anchor">#</a> xDS Route Configuration Service API</h3> <p><strong>To obtain the xDS Route Configuration Service:</strong></p> <div class="language- extra-class"><pre class="language-text"><code>XdsRouteService xdsRouteService = ServiceManager.getService(XdsCoreService.class).getXdsRouteService();
</code></pre></div><p>The <strong>xDS Route Configuration Service</strong> has two API methods: one for getting the routing information of a Service, and the other for checking whether a Cluster has enabled same AZ routing.</p> <div class="language- extra-class"><pre class="language-text"><code>List&lt;XdsRoute&gt; getServiceRoute(String serviceName);

boolean isLocalityRoute(String clusterName);
</code></pre></div><h4 id="get-service-routing-configuration"><a href="#get-service-routing-configuration" class="header-anchor">#</a> Get Service Routing Configuration</h4> <ul><li><p>Retrieve the routing configuration information of a Kubernetes Service. The return type is <code>List&lt;XdsRoute&gt;</code>, containing all the routing configuration for that Service:</p> <div class="language- extra-class"><pre class="language-text"><code>xdsRouteService.getServiceRoute(&quot;service-test&quot;);
</code></pre></div></li> <li><p>The routing configuration entity <a href="https://github.com/sermant-io/Sermant/blob/develop/sermant-agentcore/sermant-agentcore-core/src/main/java/io/sermant/core/service/xds/entity/XdsRoute.java" target="_blank" rel="noopener noreferrer">XdsRoute<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> includes the following fields:</p> <table><thead><tr><th>Field Name</th> <th>Field Type</th> <th>Description</th></tr></thead> <tbody><tr><td>name</td> <td>String</td> <td>The name of the route configuration</td></tr> <tr><td>routeMatch</td> <td>XdsRouteMatch</td> <td>The matching rule for the route</td></tr> <tr><td>routeAction</td> <td>XdsRouteAction</td> <td>The routing destination for the match</td></tr></tbody></table></li></ul> <h4 id="cluster-az-routing"><a href="#cluster-az-routing" class="header-anchor">#</a> Cluster AZ Routing</h4> <ul><li><p>Check whether the Cluster of a Service has enabled same AZ routing. The return type is <code>boolean</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>xdsRouteService.isLocalityRoute(&quot;outbound|8080||service-test.default.svc.cluster.local&quot;);
</code></pre></div></li></ul> <h2 id="load-balancing-configuration-service-based-on-xds-protocol"><a href="#load-balancing-configuration-service-based-on-xds-protocol" class="header-anchor">#</a> Load Balancing Configuration Service Based on xDS Protocol</h2> <h3 id="feature-introduction-3"><a href="#feature-introduction-3" class="header-anchor">#</a> Feature Introduction</h3> <p>The <strong>Load Balancing Configuration Service Based on xDS Protocol</strong> allows Sermant to connect with Istio's control plane to retrieve the load balancing rules of Kubernetes Services.</p> <blockquote><p>Note: To use Sermant's xDS load balancing configuration service, the service must be deployed in a Kubernetes container environment and running Istio.</p></blockquote> <h3 id="development-example-3"><a href="#development-example-3" class="header-anchor">#</a> Development Example</h3> <p>This development example is based on the project created in the <a href="/en/document/developer-guide/" class="router-link-active">Create Your First Plugin</a> document, demonstrating how a plugin can retrieve the load balancing rules for services using the xDS load balancing configuration service provided by the Sermant framework:</p> <ol><li><p>In the <code>io.sermant.template.TemplateDeclarer</code> class under <code>template/template-plugin</code> in the project, add the variable <code>loadBalanceService</code> to obtain the xDS load balancing configuration service provided by the Sermant framework, which is used to get the load balancing rules of the services:</p> <div class="language- extra-class"><pre class="language-text"><code>XdsLoadBalanceService loadBalanceService = 
ServiceManager.getService(XdsCoreService.class).getLoadBalanceService();
</code></pre></div></li> <li><p>After obtaining the load balancing configuration service, you can call the API provided by <code>loadBalanceService</code>to get the load balancing strategy of a service:</p> <div class="language- extra-class"><pre class="language-text"><code>XdsLbPolicy serviceLbPolicy = loadBalanceService.getBaseLbPolicyOfService(&quot;spring-test&quot;);
System.out.println(&quot;Service lb policy: &quot; + serviceLbPolicy);
</code></pre></div><blockquote><p>Note: <code>service-test</code> must be the name of a Kubernetes Service. The load balancing configuration is delivered through Istio's DestinationRule. For the specific supported fields and load balancing rules in the configuration, and configuration templates, please refer to the section <a href="/en/document/user-guide/sermant-xds.html#load-balancing-based-on-xds-service">Load balancing based on xDS Service</a>.</p></blockquote> <p>After development, you can follow the <a href="/en/document/developer-guide/#packaged-build">Packaging and Building</a> steps from the first plugin creation to generate the build artifact by executing <strong>mvn package</strong> in the project root directory.</p></li> <li><p>Enable the xDS service and configure <code>agent/config/config.properties</code> to enable the xDS service. The configuration example is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code># xDS service switch
agent.service.xds.service.enable=true
</code></pre></div></li> <li><p>After completion, package the Sermant image and the host microservice image. Start the host microservice in Kubernetes and mount Sermant. For guidance on packaging Sermant and host images and mounting Sermant to start host microservices in Kubernetes, please refer to the <a href="/en/document/user-guide/injector.html#startup-and-result-validation">Sermant Injector User Guide</a>. Use the DestinationRule provided by Sermant in the <a href="/en/document/user-guide/sermant-xds.html#istio-load-balancing-configuration-template">Istio Load Balancing Configuration Template</a>.</p></li> <li><p>After the host microservice is successfully started with Sermant mounted, you can execute the following command to fetch the logs of the host microservice and check the load balancing strategy retrieved by the xDS load balancing configuration service:</p> <div class="language- extra-class"><pre class="language-text"><code>$ kubectl logs -f ${POD_NAME}
Service lb policy: ROUND_ROBIN
</code></pre></div><blockquote><p>Note: <code>${POD_NAME}</code> must be the name of the pod where the host microservice is running. You can check it using the <code>kubectl get pod</code> command.</p></blockquote></li></ol> <h3 id="xds-load-balancing-configuration-service-api"><a href="#xds-load-balancing-configuration-service-api" class="header-anchor">#</a> xDS Load Balancing Configuration Service API</h3> <p><strong>To obtain the xDS Load Balancing Configuration Service:</strong></p> <div class="language- extra-class"><pre class="language-text"><code>XdsLoadBalanceService loadBalanceService = 
ServiceManager.getService(XdsCoreService.class).getLoadBalanceService();
</code></pre></div><p>The <strong>xDS Load Balancing Configuration Service</strong> provides two API methods: one for getting the load balancing rules of a Service, and another for the load balancing rules of a Cluster:</p> <div class="language- extra-class"><pre class="language-text"><code>XdsLbPolicy getLbPolicyOfCluster(String clusterName);

XdsLbPolicy getBaseLbPolicyOfService(String serviceName);
</code></pre></div><h4 id="get-load-balancing-rules-of-a-service"><a href="#get-load-balancing-rules-of-a-service" class="header-anchor">#</a> Get Load Balancing Rules of a Service</h4> <ul><li><p>Retrieve the load balancing rules for a Service. The return type is <code>XdsLbPolicy</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>loadBalanceService.getBaseLbPolicyOf(&quot;spring-test&quot;);
</code></pre></div></li> <li><p>The load balancing rule entity class <a href="https://github.com/sermant-io/Sermant/blob/develop/sermant-agentcore/sermant-agentcore-core/src/main/java/io/sermant/core/service/xds/entity/XdsLbPolicy.java" target="_blank" rel="noopener noreferrer">XdsLbPolicy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> is an enumeration type.</p> <table><thead><tr><th>Load Balancing Rule</th> <th>Description</th></tr></thead> <tbody><tr><td>XdsLbPolicy.RANDOM</td> <td>Random load balancing rule</td></tr> <tr><td>XdsLbPolicy.ROUND_ROBIN</td> <td>Round-robin load balancing rule</td></tr> <tr><td>XdsLbPolicy.LEAST_REQUEST</td> <td>Least-request load balancing rule</td></tr> <tr><td>XdsLbPolicy.UNRECOGNIZED</td> <td>Unrecognized load balancing rule</td></tr></tbody></table></li></ul> <h4 id="get-load-balancing-rules-of-the-cluster"><a href="#get-load-balancing-rules-of-the-cluster" class="header-anchor">#</a> Get Load Balancing Rules of the Cluster</h4> <ul><li><p>Retrieve the load balancing rules of a Service Cluster. The return type is <code>XdsLbPolicy</code>.</p> <div class="language- extra-class"><pre class="language-text"><code>loadBalanceService.getLbPolicyOfCluster(&quot;outbound|8080||service-test.default.svc.cluster.local&quot;);
</code></pre></div></li></ul> <h2 id="xds-service-configuration"><a href="#xds-service-configuration" class="header-anchor">#</a> xDS Service Configuration</h2> <p>In the <code>agent/config/config.properties</code> file of the Sermant Agent package, you can enable the xDS service using the <code>agent.service.xds.service.enable</code> configuration item. Other xDS service configurations are also set in this file:</p> <div class="language- extra-class"><pre class="language-text"><code># xDS service switch
agent.service.xds.service.enable=false
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/15/2024, 11:22:38 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en/document/developer-guide/dynamic-config-func.html" class="prev">
        Dynamic Configuration Function
      </a></span> <span class="next"><a href="/en/document/developer-guide/heartbeat-func.html">
        Heartbeat Function
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.5c3a2ada.js" defer></script><script src="/assets/js/3.06f127bc.js" defer></script><script src="/assets/js/1.c8bacf5b.js" defer></script><script src="/assets/js/40.bb68876d.js" defer></script>
  </body>
</html>
