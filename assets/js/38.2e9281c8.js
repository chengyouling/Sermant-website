(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{486:function(e,a,s){"use strict";s.r(a);var t=s(26),r=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"version-management"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version-management"}},[e._v("#")]),e._v(" Version Management")]),e._v(" "),a("p",[e._v("This document is about versioning "),a("strong",[e._v("Sermant")]),e._v(".")]),e._v(" "),a("p",[a("strong",[e._v("Sermant")]),e._v(" directly use "),a("a",{attrs:{href:"https://github.com/mojohaus/versions-maven-plugin",target:"_blank",rel:"noopener noreferrer"}},[e._v("versions-maven-plugin"),a("OutboundLink")],1),e._v(" do version management , commonly used commands are as follows:")]),e._v(" "),a("ul",[a("li",[e._v("The updated version number is "),a("code",[e._v("${version}")]),e._v("："),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("mvn versions:set "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DnewVersion")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${version}")]),e._v("\n")])])]),e._v("By default, this command keeps the original "),a("code",[e._v("pom")]),e._v(" file backup.")]),e._v(" "),a("li",[e._v("Rollback version number:"),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("mvn versions:revert\n")])])])]),e._v(" "),a("li",[e._v("Commit the new version update, i.e. delete the original "),a("code",[e._v("pom")]),e._v(" file backup:"),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("mvn versions:commit\n")])])])]),e._v(" "),a("li",[e._v("Update version to "),a("code",[e._v("${version}")]),e._v(" and commit:"),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("mvn versions:set "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DnewVersion")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${version}")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DgenerateBackupPoms")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("false\n")])])]),e._v("This command will not back up the original "),a("code",[e._v("pom")]),e._v(" file, be careful not to write the version number wrong when using it.")])]),e._v(" "),a("p",[e._v("In the above update command, only the modules that have the same version as the top-level module in the project will be modified. If you need to update a module separately, you can use the "),a("code",[e._v("-pl")]),e._v(" flag, for example:")]),e._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[e._v("mvn versions:set "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DnewVersion")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${version}")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DgenerateBackupPoms")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("false "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-pl")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${module}")]),e._v("\n")])])]),a("p",[e._v("Where "),a("code",[e._v("${module}")]),e._v(" can pass "),a("code",[e._v("${groupId}:${artifactId}")]),e._v(", can also pass relative path. In the case of multiple modules, use the "),a("code",[e._v("','")]),e._v(" sign.")]),e._v(" "),a("p",[e._v("More information about the "),a("code",[e._v("versions:set")]),e._v(" command can be found here "),a("a",{attrs:{href:"http://www.mojohaus.org/versions-maven-plugin/set-mojo.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Versions Maven Plugin versions:set"),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("p",[e._v("More "),a("code",[e._v("versions-maven-plugin")]),e._v(" commands can be found in "),a("a",{attrs:{href:"http://www.mojohaus.org/versions-maven-plugin/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Versions Maven Plugin Introduction"),a("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);a.default=r.exports}}]);